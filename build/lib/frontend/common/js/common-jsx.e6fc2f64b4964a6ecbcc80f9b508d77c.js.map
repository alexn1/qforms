{"version":3,"sources":["ReactComponent/ReactComponent.jsx","widget/Box/Box.jsx","widget/Button/Button.jsx","widget/CheckBox/CheckBox.jsx","widget/ComboBox/ComboBox.jsx","widget/DatePicker/DatePicker.jsx","widget/DropDownIcon/DropDownIcon.jsx","widget/DropdownDatePicker/DropdownDatePicker.jsx","widget/Grid/Grid.jsx","widget/DropdownButton/DropdownButton.jsx","widget/GridCell/GridCell.jsx","widget/GridRow/GridRow.jsx","widget/Image/Image.jsx","widget/Menu/Menu.jsx","widget/Slider/Slider.jsx","widget/Modal/Modal.jsx","widget/Statusbar/Statusbar.jsx","widget/Tab/Tab.jsx","widget/TextArea/TextArea.jsx","widget/TextBox/TextBox.jsx","widget/Tooltip/Tooltip.jsx","widget/TimeBox/TimeBox.jsx"],"names":["ReactComponent","React","Component","constructor","props","onCreate","name","getClassList","classList","state","getClassName","join","rerender","logTime","Promise","resolve","start","Date","now","forceUpdate","console","log","componentWillUnmount","onUnmount","Box","setState","backgroundColor","componentDidMount","shouldComponentUpdate","nextProps","nextState","componentDidUpdate","render","Button","e","onClick","disabled","isDisabled","enabled","undefined","isVisible","visible","id","display","width","title","children","CheckBox","readOnly","prevState","onChange","checked","Error","getValue","height","textAlign","cursor","ComboBox","value","target","items","item","find","nullable","error","length","size","style","onDoubleClick","placeholder","map","DatePicker","contains","next","prev","nodeName","onDateClick","onMouseDown","minDate","Array","selectedMonth","calcSelectedMonth","MONTH","createDateFromArr","arr","selectedDate","dates","Helper","today","getTime","push","date","Math","min","getFullYear","getMonth","getTodayArr","dateToArray","getDate","getDay","day","createSelectedDate","isDateSelected","getFirstDateOfTable","setDate","createMinDate","isMinDate","isPrevAllowed","setMonth","isMonthAllowed","month","minMonth","onDateSelected","JSON","parse","dataset","i","j","text","toString","dataDate","stringify","getDateStyle","DropDownIcon","fill","DropdownDatePicker","open","which","preventDefault","getFormat","format","getStringValue","formatDate","getMinDate","oldDates","getSelectedMonth","getSelectedDate","onInputClick","onBlur","onInputKeyDown","onCloseDown","onDatePickerMouseDown","onDatePickerDateSelected","Grid","currentTarget","rc","selectCell","row","rows","parseInt","r","selectRow","column","columns","columnWidth","getMaxColumnWidth","resized","c","columnName","indexOf","splice","head","current","scrollLeft","createRef","getActiveRowIndex","getActiveColumn","isRowActive","isCellActive","onSelectionChange","max","view","getSpanOffsetWidth","getColumnWidth","renderColumns","onResizeDoubleClick","renderRows","getRowKey","updated","renderCell","renderGridCellView","onCellViewCreate","onCellViewUnmount","onBodyScroll","DropdownButton","persist","onButtonClick","onButtonBlur","onUlMouseDown","onUlClick","actions","action","GridCell","span","offsetWidth","renderCellValue","GridRow","active","activeColumn","grid","onCellMouseDown","onCellDoubleClick","onRowMouseDown","onRowDoubleClick","Image","img","getNaturalSize","naturalWidth","naturalHeight","src","onImgClick","Menu","toggleMenu","menu","closeMenu","type","onMenuClick","onMenuItemClick","Slider","image","images","onImageClick","onPrevClick","onNextClick","onCloseClick","Modal","Statusbar","setLastQueryTime","lastQueryTime","Tab","getActive","onTabMouseDown","selectTab","onTabClose","renderTitles","tabs","tab","onLiMouseDown","onLiClick","canClose","renderContents","content","TextArea","cols","TextBox","input","getInput","spellCheck","autocomplete","Tooltip","hidden","position","tip","TimeBox","event","includes","key","selectionStart","end","selectionEnd","inEnd","stringValue","formatValue","nValue","err","message","NaN","sec","pure","replace","substr","getIntegerValue","setValue","h","floor","m","split","hh","mm","splitTime","hours","minutes","onKeyPress"],"mappings":"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","file":"common-jsx.e6fc2f64b4964a6ecbcc80f9b508d77c.js","sourcesContent":["class ReactComponent extends React.Component {\n    constructor(props) {\n        super(props);\n        // if (props.cb) props.cb(this, this.props.name);\n        if (props.onCreate) props.onCreate(this, this.props.name);\n    }\n    getClassList() {\n        return [\n            this.constructor.name,\n            ...(this.props.classList || []),\n            ...(this.state && this.state.classList ? this.state.classList : [])\n        ];\n    }\n    getClassName() {\n        return this.getClassList().join(' ');\n    }\n    rerender(logTime = true) {\n        // console.log(`${this.constructor.name}.rerender`);\n        return new Promise(resolve => {\n            const start = Date.now();\n            this.forceUpdate(() => {\n                if (logTime) {\n                    console.log(`${this.constructor.name}.rerender time:`, Date.now() - start);\n                }\n                resolve();\n            });\n        });\n    }\n    componentWillUnmount() {\n        // console.log('ReactComponent.componentWillUnmount');\n        if (this.props.onUnmount) this.props.onUnmount(this, this.props.name);\n    }\n}\n","class Box extends ReactComponent {\n    constructor(props) {\n        console.log('Box.constructor', props);\n        super(props);\n        this.state = {\n            backgroundColor: 'purple'\n        };\n    }\n    // componentWillMount() {\n    //     console.log('Box.componentWillMount');\n    // }\n    componentDidMount() {\n        console.log('Box.componentDidMount');\n    }\n    componentWillUnmount() {\n        console.log('Box.componentWillUnmount');\n    }\n    update = () => {\n        console.log('Box.update');\n        this.setState({\n            backgroundColor: 'green'\n        });\n    }\n    shouldComponentUpdate(nextProps, nextState) {\n        console.log('Box.shouldComponentUpdate', nextProps, nextState);\n        return true;\n    }\n    componentDidUpdate() {\n        console.log('Box.componentDidUpdate');\n    }\n    render() {\n        console.log('Box.render');\n        return (\n            <div className=\"Box\">\n                <Button name=\"one\"/>\n                <Button name=\"two\"/>\n                <Button name=\"three\"/>\n            </div>\n        );\n    }\n}\n","class Button extends ReactComponent {\n    constructor(props) {\n        // console.log('Button.constructor', props);\n        super(props);\n        this.state = {disabled: false};\n    }\n    isDisabled() {\n        if (this.props.enabled !== undefined) return !this.props.enabled;\n        return this.state.disabled;\n    }\n    onClick = e => {\n        // console.log('Button.onClick', e);\n        if (this.props.onClick) this.props.onClick(e);\n    }\n    isVisible() {\n        return this.props.visible === undefined ? true : this.props.visible;\n    }\n    render() {\n        // console.log('Button.render', this.props.title, this.props);\n        return (\n            <button className={this.getClassName()}\n                name={this.props.name}\n                id={this.props.id}\n                disabled={this.isDisabled()}\n                onClick={this.onClick}\n                style={{\n                    display: !this.isVisible() ? 'none' : null,\n                    width  : this.props.width\n                }}\n            >{this.props.title || this.props.children}</button>\n        );\n    }\n}\n","class CheckBox extends ReactComponent {\n    constructor(props) {\n        super(props);\n        if (\n            this.props.checked !== undefined &&\n            this.props.checked !== null &&\n            typeof this.props.checked !== 'boolean') {\n            throw new Error(`wrong checked prop: ${this.props.checked}`);\n        }\n        this.state = {\n            checked: typeof this.props.checked === 'boolean' ? this.props.checked : null\n        };\n    }\n    getValue() {\n        return this.state.checked;\n    }\n    onChange = e => {\n        // console.log('CheckBox.onChange', e.target.checked, this.props.readOnly);\n        if (!this.props.readOnly) {\n            this.setState(prevState => {\n                if (this.props.onChange) this.props.onChange(!prevState.checked);\n                return {checked: !prevState.checked};\n            });\n        }\n    }\n    onClick = e => {\n        if (!this.props.readOnly) {\n            if (this.props.onChange) this.props.onChange(true);\n            this.setState({checked: true});\n        }\n    }\n    shouldComponentUpdate(nextProps, nextState) {\n        // console.log('TextBox.shouldComponentUpdate', 'nextProps:', nextProps, 'nextState:', nextState);\n        this.state.checked = typeof nextProps.checked === 'boolean' ? nextProps.checked : null;\n        return true;\n    }\n    render() {\n        if (this.state.checked === null) {\n            return (<span\n                style={{\n                    width: '16px',\n                    height: '16px',\n                    // backgroundColor: 'yellow',\n                    display: 'inline-block',\n                    textAlign: 'center',\n                    cursor: 'default'\n                }}\n                onClick={this.onClick}\n            >?</span>);\n        }\n        return (\n            <input\n                type=\"checkbox\"\n                checked={this.state.checked}\n                readOnly={this.props.readOnly}\n                disabled={this.props.disabled}\n                onChange={this.onChange}\n            />\n        );\n    }\n}\n","class ComboBox extends ReactComponent {\n    constructor(props) {\n        // console.log('ComboBox.constructor', props.value, typeof props.value, props.items);\n        super(props);\n        if (!props.items) throw new Error('no ComboBox items');\n        let value = null;\n        if (props.value !== undefined && props.value !== null) {\n            value = props.value;\n            const item = props.items.find(item => item.value === props.value);\n            if (!item) {\n                if (this.props.nullable && value === '') {\n                } else {\n                    console.error(`no item for value:`, props.value, typeof props.value);\n                    console.log('items:', props.items);\n                }\n            }\n        } else {\n            if (props.items.length) {\n                value = props.items[0].value;\n            } else {\n                value = '';\n            }\n        }\n        if (value === null) throw new Error('null is wrong value for ComboBox');\n        // console.log('combobox value:', value);\n        this.state = {value: value};\n    }\n    getValue() {\n        return this.state.value;\n    }\n    onChange = e => {\n        // console.log('ComboBox.onChange', e.target.value, typeof e.target.value);\n        this.setState({value: e.target.value});\n        if (this.props.onChange) {\n            this.props.onChange(e.target.value);\n        }\n    }\n    shouldComponentUpdate(nextProps, nextState) {\n        // console.log('ComboBox.shouldComponentUpdate', 'nextProps:', nextProps, 'nextState:', nextState);\n        this.state.value = nextProps.value;\n        return true;\n    }\n    render() {\n        // console.log('ComboBox.render', this.state.value);\n        return (\n            <select\n                className={this.getClassName()}\n                onChange={this.onChange}\n                value={this.state.value}\n                disabled={this.props.readOnly}\n                size={this.props.size}\n                style={this.props.style}\n                id={this.props.id}\n                onDoubleClick={this.props.onDoubleClick}\n            >\n                {this.props.nullable &&\n                    <option value=\"\">{this.props.placeholder}</option>\n                }\n                {this.props.items && this.props.items.map(item =>\n                    <option key={item.value} value={item.value}>{item.title}</option>\n                )}\n            </select>\n        );\n    }\n}\n","// props\n//  visible boolean\n//  selectedDate array\n//  minDate array\n//  onMouseDown function\n//  onDateSelected function\n//  getDateStyle function\nclass DatePicker extends ReactComponent {\n    constructor(props) {\n        // console.log('DatePicker.constructor', props);\n        super(props);\n        if (this.props.minDate && !(this.props.minDate instanceof Array)) throw new Error('minDate must be array');\n        this.state = {selectedMonth: this.calcSelectedMonth()};\n        this.MONTH = [\n            '', '',\n            '', '', '',\n            '', '', '',\n            '', '', '',\n            ''\n        ];\n    }\n    static createDateFromArr(arr) {\n        return new Date(arr[0], arr[1], arr[2]);\n    }\n\n    calcSelectedMonth() {\n        // console.log('DatePicker.calcSelectedMonth', this.props.selectedDate);\n        if (this.props.selectedDate) {\n            return [this.props.selectedDate[0], this.props.selectedDate[1]];\n        } else {\n            const dates = [Helper.today().getTime()];\n            if (this.props.minDate) dates.push(DatePicker.createDateFromArr(this.props.minDate).getTime());\n            // if (this.props.selectedDate) dates.push(DatePicker.createDateFromArr(this.props.selectedDate).getTime());\n            // if (this.props.selectedMonth) dates.push(new Date(this.props.selectedMonth[0], this.props.selectedMonth[1], 1).getTime());\n            const date = new Date(Math.min(...dates));\n            // console.log('date:', date);\n            return [date.getFullYear(), date.getMonth()];\n        }\n    }\n\n    static getTodayArr() {\n        return DatePicker.dateToArray(new Date());\n    }\n\n    static dateToArray(date) {\n        return [date.getFullYear(), date.getMonth(), date.getDate()];\n    }\n\n    static getDay(date) {\n        let day = date.getDay() - 1;\n        if (day === -1) day = 6;\n        if (day === 0) day = 7;\n        return day;\n    }\n\n    createSelectedDate() {\n        if (!this.isDateSelected()) throw new Error('date not selected');\n        return new Date(this.props.selectedDate[0], this.props.selectedDate[1], this.props.selectedDate[2]);\n    }\n\n    isDateSelected() {\n        return !!this.props.selectedDate;\n    }\n\n    getFirstDateOfTable() {\n        const date = new Date(this.state.selectedMonth[0], this.state.selectedMonth[1], 1); // first day of month\n        date.setDate(date.getDate() - DatePicker.getDay(date));            // first day of table\n        return date;\n    }\n\n    createMinDate() {\n        if (!this.props.minDate) throw new Error('no min date');\n        return new Date(this.props.minDate[0], this.props.minDate[1], this.props.minDate[2]);\n    }\n\n    isMinDate() {\n        return !!this.props.minDate;\n    }\n\n    isPrevAllowed() {\n        const prev = new Date(this.state.selectedMonth[0], this.state.selectedMonth[1]);\n        prev.setMonth(prev.getMonth() - 1);\n        return this.isMonthAllowed(prev);\n    }\n\n    isMonthAllowed(month) {\n        if (this.isMinDate()) {\n            const minMonth = new Date(this.props.minDate[0], this.props.minDate[1]);\n            return month.getTime() >= minMonth.getTime();\n        }\n        return true;\n    }\n\n    onClick = e => {\n        // console.log('DatePicker.onClick', e.target);\n        if (e.target.classList.contains('next')) {\n            this.next();\n        } else if (e.target.classList.contains('prev')) {\n            this.prev();\n        } else if (e.target.nodeName === 'TD' && e.target.classList.contains('selectable')) {\n            return this.onDateClick(e.target);\n        }\n    }\n    onMouseDown = e => {\n        // console.log('DatePicker.onMouseDown');\n        if (this.props.onMouseDown) {\n            return this.props.onMouseDown(e);\n        }\n    }\n\n    onDateClick(target) {\n        // console.log('DatePicker.onDateClick', target.dataset.date);\n        if (this.props.onDateSelected) {\n            this.props.onDateSelected(JSON.parse(target.dataset.date));\n        }\n    }\n\n    next() {\n        // console.log('DatePicker.next');\n        this.setState(prevState => {\n            const next = new Date(prevState.selectedMonth[0], prevState.selectedMonth[1]);\n            next.setMonth(next.getMonth() + 1);\n            return {\n                selectedMonth: [next.getFullYear(), next.getMonth()]\n            };\n        });\n    }\n\n    prev() {\n        // console.log('DatePicker.prev');\n        this.setState(prevState => {\n            const prev = new Date(prevState.selectedMonth[0], prevState.selectedMonth[1]);\n            prev.setMonth(prev.getMonth() - 1);\n            return {\n                selectedMonth: [prev.getFullYear(), prev.getMonth()]\n            };\n        });\n    }\n\n    render() {\n        // console.log('DatePicker.render', this.props, this.state);\n        const date = this.getFirstDateOfTable();\n        const today = Helper.today();\n        const minDate = this.isMinDate() ? this.createMinDate() : null;\n        const selectedDate = this.isDateSelected() ? this.createSelectedDate() : null;\n        return (\n            <table className={this.getClassName()}\n                style={this.props.visible === false ? {display: 'none'} : {display: 'block'}}\n                   cellSpacing=\"0\"\n                   cellPadding=\"0\"\n                   onClick={this.onClick}\n                   onMouseDown={this.onMouseDown}\n            >\n                <caption>\n                    <div>\n                        <a className={`prev ${this.isPrevAllowed() ? 'enabled' : ''}`}> &lt; </a>\n                        <span>{`${this.MONTH[this.state.selectedMonth[1]]}, ${this.state.selectedMonth[0]}`}</span>\n                        <a className={'next enabled'}> &gt; </a>\n                    </div>\n                </caption>\n                <thead>\n                <tr>\n                    <th></th>\n                    <th></th>\n                    <th></th>\n                    <th></th>\n                    <th></th>\n                    <th className=\"weekend\"></th>\n                    <th className=\"weekend\"></th>\n                </tr>\n                </thead>\n                <tbody>\n                    {[0, 1, 2, 3, 4, 5].map(i => (<tr key={i}>\n                        {[0, 1, 2, 3, 4, 5, 6].map(j => {\n                            const classList = [];\n                            if (j === 5 || j === 6) classList.push('weekend');\n                            if (date.getTime() === today.getTime()) classList.push('today');\n                            if (date.getMonth() !== this.state.selectedMonth[1]) classList.push('out');\n                            if (!minDate) classList.push('selectable'); else if (date.getTime() >= minDate.getTime()) classList.push('selectable');\n                            if (selectedDate && date.getTime() === selectedDate.getTime()) classList.push('selected');\n                            const text = date.getDate().toString();\n                            const dataDate = JSON.stringify(DatePicker.dateToArray(date));\n                            const style = this.props.getDateStyle ? this.props.getDateStyle(date) : undefined;\n                            date.setDate(date.getDate() + 1);\n                            return (<td\n                                key={text}\n                                className={classList.join(' ')}\n                                style={style}\n                                data-date={dataDate}\n                            >{text}</td>);\n                        })}\n                    </tr>))}\n                </tbody>\n            </table>\n        );\n    }\n}\n","class DropDownIcon extends ReactComponent {\n    render() {\n        return <div className={this.getClassName()} style={{width: this.props.size, height: this.props.size}}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10 10\">\n                <circle cx=\"5\" cy=\"5\" r=\"5\" style={{fill: 'gray'}}/>\n                <polyline points=\"2,4 5,7 8,4\" fill=\"none\" stroke=\"white\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n            </svg>\n        </div>;\n    }\n}\n","class DropdownDatePicker extends ReactComponent {\n    constructor(props) {\n        // console.log('DropdownDatePicker.constructor', props);\n        super(props);\n        this.state = {\n            open : false,\n            value: props.value || null,\n        };\n        if (props.value && !(props.value instanceof Date)) {\n            throw new Error(`need Date type, got ${typeof props.value}`);\n        }\n    }\n    onInputClick = (e) => {\n        // console.log('DropdownDatePicker.onInputClick', e);\n        if (this.props.readOnly) return;\n        this.setState(prevState => ({open: !prevState.open}));\n    }\n    onInputKeyDown = e => {\n        // console.log('DropdownDatePicker.onInputKeyDown', e.which);\n        if (e.which === 27 && this.state.open) {\n            this.setState({open: false});\n        }\n    }\n    onCloseDown = async (e) => {\n        // console.log('DropdownDatePicker.onCloseDown', e);\n        this.setState({value: null});\n        if (this.props.onChange) {\n            this.props.onChange(null);\n        }\n    }\n    onBlur = (e) => {\n        // console.log('DropdownDatePicker.onBlur');\n        if (this.state.open) {\n            this.setState({open: false});\n        }\n    }\n    onDatePickerMouseDown = (e) => {\n        // console.log('DropdownDatePicker.onDatePickerMouseDown');\n        e.preventDefault();\n        // e.stopPropagation();\n        // return false;\n    }\n    onDatePickerDateSelected = (date) => {\n        // console.log('DropdownDatePicker.onDatePickerDateSelected', date);\n        const value = new Date(date[0], date[1], date[2]);\n        this.setState({open: false, value});\n        if (this.props.onChange) {\n            this.props.onChange(value);\n        }\n    }\n    getFormat() {\n        if (this.props.format) return this.props.format;\n        return '{DD}.{MM}.{YYYY} {hh}:{mm}:{ss}';\n    }\n    getStringValue() {\n        if (this.getValue()) {\n            return Helper.formatDate(this.getValue(), this.getFormat());\n        }\n        return '';\n    }\n    getMinDate() {\n        if (this.props.getMinDate) {\n            return this.props.getMinDate();\n        } else if (this.props.oldDates === false) {\n            return DatePicker.getTodayArr();\n        }\n        return null;\n    }\n    getSelectedMonth() {\n        if (this.getValue()) {\n            return [this.getValue().getFullYear(), this.getValue().getMonth()];\n        }\n        return null;\n    }\n    getSelectedDate() {\n        if (this.getValue()) {\n            return [this.getValue().getFullYear(), this.getValue().getMonth(), this.getValue().getDate()];\n        }\n        return null;\n    }\n    getValue() {\n        return this.state.value;\n    }\n    shouldComponentUpdate(nextProps, nextState) {\n        // console.log('DropdownDatePicker.shouldComponentUpdate', 'nextProps:', nextProps, 'nextState:', nextState);\n        this.state.value = nextProps.value;\n        return true;\n    }\n    getClassList() {\n        return [\n            ...super.getClassList(),\n            ...(this.props.readOnly ? ['readOnly'] : [])\n        ];\n    }\n\n    render() {\n        // console.log('DropdownDatePicker.render', this.props, this.state);\n        return (\n            <div className={this.getClassName()}>\n                <input\n                    readOnly\n                    onClick={this.onInputClick}\n                    onBlur={this.onBlur}\n                    value={this.getStringValue()}\n                    placeholder={this.props.placeholder}\n                    onKeyDown={this.onInputKeyDown}\n                />\n                <div className={`close ${this.getStringValue() !== '' && !this.props.readOnly ? 'visible' : ''}`} onMouseDown={this.onCloseDown}>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10 10\">\n                        <line x1=\"2\" y1=\"2\" x2=\"8\" y2=\"8\" stroke=\"#aaa\" strokeWidth=\"1.1\" strokeLinecap=\"round\"\n                              strokeMiterlimit=\"10\"></line>\n                        <line x1=\"8\" y1=\"2\" x2=\"2\" y2=\"8\" stroke=\"#aaa\" strokeWidth=\"1.1\" strokeLinecap=\"round\"\n                              strokeMiterlimit=\"10\"></line>\n                    </svg>\n                </div>\n                {this.state.open &&\n                    <DatePicker\n                        minDate={this.getMinDate()}\n                        selectedMonth={this.getSelectedMonth()}\n                        selectedDate={this.getSelectedDate()}\n                        onMouseDown={this.onDatePickerMouseDown}\n                        onDateSelected={this.onDatePickerDateSelected}\n                />\n                }\n            </div>\n        );\n    }\n}\n","class Grid extends ReactComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            column     : null,\n            row        : null,\n            columnWidth: {},\n            resized    : Date.now()\n        };\n        this.columns = {};\n        this.head = React.createRef();\n    }\n    getActiveRowIndex() {\n        if (this.props.getActiveRowIndex) return this.props.getActiveRowIndex();\n        return this.state.row;\n    }\n    getActiveColumn() {\n        return this.state.column;\n    }\n    isRowActive(i) {\n        return i === this.getActiveRowIndex();\n    }\n    isCellActive(i, j) {\n        return i === this.getActiveRowIndex() && j === this.getActiveColumn();\n    }\n    onCellMouseDown = e => {\n        // console.log('Grid.onCellMouseDown', e.currentTarget.dataset);\n        const [i, j] = JSON.parse(e.currentTarget.dataset.rc);\n        this.selectCell(i, j);\n    }\n    onCellDoubleClick = e => {\n        // console.log('Grid.onCellDoubleClick');\n        const [i, j] = JSON.parse(e.currentTarget.dataset.rc);\n        const row = this.props.rows[i];\n        // console.log('row:', row);\n        if (this.props.onDoubleClick) this.props.onDoubleClick(row);\n    }\n    onRowMouseDown = e => {\n        // console.log('Grid.onRowMouseDown', e.currentTarget.dataset);\n        const i = parseInt(e.currentTarget.dataset.r);\n        this.selectRow(i);\n    }\n    onRowDoubleClick = e => {\n        // console.log('Grid.onRowDoubleClick');\n        const i = parseInt(e.currentTarget.dataset.r);\n        const row = this.props.rows[i];\n        // console.log('row:', row);\n        if (this.props.onDoubleClick) this.props.onDoubleClick(row);\n    }\n    selectCell(i, j) {\n        if (this.getActiveRowIndex() === i && this.getActiveColumn() === j) return;\n        this.state.row    = i;\n        this.state.column = j;\n        if (this.props.onSelectionChange) this.props.onSelectionChange(i);\n    }\n    selectRow(i) {\n        if (this.getActiveRowIndex() === i ) return;\n        this.state.row = i;\n        if (this.props.onSelectionChange) this.props.onSelectionChange(i);\n    }\n    getMaxColumnWidth(column) {\n        return Math.max(...this.columns[column.name].map(view => view.getSpanOffsetWidth())) + 10;\n    }\n    onResizeDoubleClick = e => {\n        console.log('Grid.onResizeDoubleClick', e.target);\n        const i = parseInt(e.target.dataset.i);\n        const column = this.props.columns[i];\n        if (this.state.columnWidth[column.name] === this.getMaxColumnWidth(column)) return;\n        this.state.columnWidth[column.name] = this.getMaxColumnWidth(column);\n        this.state.resized = Date.now();\n        this.rerender();\n    }\n    getColumnWidth(i) {\n        const columnName = this.props.columns[i].name;\n        if (this.state.columnWidth[columnName] !== undefined) return `${this.state.columnWidth[columnName]}px`;\n        if (this.props.columns[i].width) return `${this.props.columns[i].width}px`;\n        return null;\n    }\n    renderColumns() {\n        return this.props.columns.map((column, i) =>\n            <td key={column.name} style={{width: this.getColumnWidth(i)}}>\n                <div>{column.title}</div>\n                <span className=\"resize\" data-i={i} onDoubleClick={this.onResizeDoubleClick}></span>\n            </td>\n        );\n    }\n    renderRows() {\n        return this.props.rows.map((row, i) =>\n            <GridRow\n                key={this.getRowKey(row)}\n                grid={this}\n                row={row}\n                i={i}\n                active={this.isRowActive(i)}\n                activeColumn={this.getActiveColumn()}\n                updated={this.props.updated}\n                resized={this.state.resized}\n            />\n        );\n    }\n    getRowKey(row) {\n        return this.props.getRowKey(row);\n    }\n    onCellViewCreate = c => {\n        // console.log('Grid.onCellViewCreate', c.props.column.name);\n        const columnName = c.props.column.name;\n        if (this.columns[columnName] === undefined) this.columns[columnName] = [];\n        this.columns[columnName].push(c);\n    }\n    onCellViewUnmount = c => {\n        // console.log('Grid.onCellViewUnmount', c.props.column.name);\n        const columnName = c.props.column.name;\n        const i = this.columns[columnName].indexOf(c);\n        if (i === -1) throw new Error('cannot find FieldView in Grid.columns');\n        this.columns[columnName].splice(i, 1);\n    }\n    onBodyScroll = e => {\n        // console.log('Grid.onBodyScroll', e.target.scrollLeft);\n        this.head.current.scrollLeft = e.target.scrollLeft;\n    }\n    renderCell(row, column) {\n        let view;\n        if (this.props.renderGridCellView) {\n            view = this.props.renderGridCellView(row, column, this.onCellViewCreate, this.onCellViewUnmount);\n        }\n        if (view) return view;\n        return <GridCell\n            row={row}\n            column={column}\n            onCreate={this.onCellViewCreate}\n            onUnmount={this.onCellViewUnmount}\n        />;\n    }\n    shouldComponentUpdate(nextProps, nextState) {\n        // console.log('Grid.shouldComponentUpdate', this.props.name, nextProps.updated - this.props.updated);\n        if (this.props.updated) {\n            if (nextProps.updated - this.props.updated) return true;\n            return false;\n        }\n        return true;\n    }\n    render() {\n        console.log('Grid.render', this.props.name);\n        return (\n            <div className={this.getClassName()}>\n                <div className=\"head\" ref={this.head}><table><tbody><tr>{this.props.columns && this.renderColumns()}<td/></tr></tbody></table></div>\n                <div className=\"block\"/>\n                <div className=\"body\" onScroll={this.onBodyScroll}>\n                    <table>\n                        <tbody>{this.props.rows && this.renderRows()}</tbody>\n                    </table>\n                </div>\n            </div>\n        );\n    }\n}\n","class DropdownButton extends ReactComponent{\n    constructor(props) {\n        super(props);\n        this.state = {\n            open: false,\n            disabled: false\n        };\n    }\n    onButtonClick = e => {\n        // console.log('DropdownButton.onButtonClick');\n        this.setState(state => ({open: !state.open}));\n    }\n    onButtonBlur = e => {\n        // console.log('DropdownButton.onButtonBlur');\n        if (this.state.open) {\n            this.setState({open: false});\n        }\n    }\n    onUlMouseDown = e => {\n        // console.log('DropdownButton.onUlMouseDown');\n        e.preventDefault();\n    }\n    onUlClick = e => {\n        // console.log('DropdownButton.onUlClick', e);\n        e.persist();\n        this.setState({open: false}, () => {\n            if (this.props.onClick) {\n                this.props.onClick(e.target);\n            }\n        });\n    }\n    isDisabled() {\n        if (this.props.enabled !== undefined) return !this.props.enabled;\n        // if (this.props.isDisabled) return this.props.isDisabled(this.props.name);\n        return this.state.disabled;\n    }\n    render() {\n        return (\n            <div className={`DropdownButton ${this.state.open && 'show'}`}>\n                <button\n                    onClick={this.onButtonClick}\n                    onBlur={this.onButtonBlur}\n                    disabled={this.isDisabled()}\n                >Actions</button>\n                <ul onMouseDown={this.onUlMouseDown} onClick={this.onUlClick}>\n                    {this.props.actions && this.props.actions.map(action =>\n                        <li key={action.name} data-action={action.name}>{action.title}</li>\n                    )}\n                </ul>\n            </div>\n        );\n    }\n}\n","class GridCell extends ReactComponent {\n    constructor(props) {\n        super(props);\n        this.span = React.createRef();\n    }\n    /*onClick = e => {\n        console.log('GridCell.onClick', this.span.current);\n        console.log('offsetWidth:', this.span.current.offsetWidth);\n    }*/\n    getSpanOffsetWidth() {\n        return this.span.current.offsetWidth;\n    }\n    renderCellValue(value) {\n        if (typeof value === 'boolean') return value.toString();\n        return value;\n    }\n    render() {\n        const row = this.props.row;\n        const column = this.props.column;\n        return (\n            <div className=\"GridCell\" /*onClick={this.onClick}*/>\n                <span ref={this.span}>{this.renderCellValue(row[column.name])}</span>\n            </div>\n        );\n    }\n}\n","class GridRow extends ReactComponent {\n    isCellActive(j) {\n        return this.props.active && this.props.activeColumn === j;\n    }\n    shouldComponentUpdate(nextProps, nextState) {\n        // console.log('GridRow.shouldComponentUpdate', nextProps.updated - this.props.updated, nextProps.resized - this.props.resized);\n        if (nextProps.updated - this.props.updated) return true;\n        if (nextProps.resized - this.props.resized) return true;\n        if (this.props.active !== nextProps.active) return true;\n        if (this.props.active && this.props.activeColumn !== nextProps.activeColumn) return true;\n        return false;\n    }\n    render() {\n        // console.log('GridRow.render', this.props.i);\n        const grid = this.props.grid;\n        const row = this.props.row;\n        const i = this.props.i;\n        return <tr\n            className={this.props.active ? 'active' : null}\n        >\n            {grid.props.columns.map((column, j) =>\n                <td\n                    key={column.name}\n                    className={this.isCellActive(j) ? 'active' : null}\n                    style={{width: grid.getColumnWidth(j)}}\n                    data-rc={`[${i},${j}]`}\n                    onMouseDown={grid.onCellMouseDown}\n                    onDoubleClick={grid.onCellDoubleClick}\n                >\n                    {grid.renderCell(row, column)}\n                </td>)}\n            <td\n                data-r={i}\n                onMouseDown={grid.onRowMouseDown}\n                onDoubleClick={grid.onRowDoubleClick}\n            />\n        </tr>;\n    }\n}\n","class Image extends ReactComponent {\n    constructor(props) {\n        super(props);\n        this.img = React.createRef();\n        this.state = {classList: null};\n    }\n    getNaturalSize() {\n        return [this.img.current.naturalWidth, this.img.current.naturalHeight];\n    }\n    onImgClick = e => {\n        console.log('Image.onImgClick');\n        this.setState(prevState => {\n            if (prevState.classList) {\n                return {classList: null};\n            } else {\n                return {classList: ['Image_full']};\n            }\n        });\n    }\n    render() {\n        return (\n            <img\n                className={this.getClassName()}\n                ref={this.img}\n                src={this.props.src}\n                onClick={this.onImgClick}\n            />\n        );\n    }\n    /*componentDidMount() {\n        console.log('Image.componentDidMount', this.getNaturalSize());\n    }*/\n}\n","class Menu extends ReactComponent {\n    constructor(props) {\n        // console.log('Menu.constructor', props);\n        super(props);\n        this.state = {};\n    }\n    onMenuClick = async (e) => {\n        // console.log('Menu.onMenuClick', e.currentTarget.dataset.menu);\n        await this.toggleMenu(e.currentTarget.dataset.menu);\n    }\n    onBlur = async (e) => {\n        // console.log('Menu.onBlur', e.currentTarget.dataset.menu);\n        await this.closeMenu(e.currentTarget.dataset.menu);\n    }\n    toggleMenu(menu) {\n        return new Promise(resolve => {\n            this.setState(prevState => ({\n                [menu]: !prevState[menu]\n            }), resolve);\n        });\n    }\n    closeMenu(menu) {\n        return new Promise(resolve => this.setState({[menu]: false}, resolve));\n    }\n    onMouseDown = (e) => {\n        // console.log('Menu.onMouseDown');\n        e.preventDefault();\n        // e.stopPropagation();\n        // return false;\n    }\n    onMenuItemClick = async (e) => {\n        // console.log('Menu.onMenuItemClick', e.target.dataset.menu, e.target.dataset.item);\n        e.persist();\n        const {menu, type, name} = e.target.dataset;\n        await this.closeMenu(menu);\n        if (this.props.onClick) {\n            this.props.onClick(menu, type, name);\n        }\n    }\n    render() {\n        return (\n            <div className=\"Menu\">\n                {this.props.items && this.props.items.map(menu => <div key={menu.name} className={this.state[menu.name] ? 'active' : null}>\n                    <button data-menu={menu.name} onClick={this.onMenuClick} onBlur={this.onBlur}>{menu.title}</button>\n                    <div onMouseDown={this.onMouseDown} onClick={this.onMenuItemClick}>\n                        {menu.items.map(item =>\n                            <a key={item.name} data-menu={menu.name} data-type={item.type} data-name={item.name}>{item.title}</a>\n                        )}\n                    </div>\n                </div>)}\n            </div>\n        );\n    }\n}\n","class Slider extends ReactComponent {\n    constructor(props) {\n        super(props);\n        if (!this.props.images) throw new Error('Slider: no images');\n        this.state = {image: 0, classList: null};\n    }\n    onPrevClick = e => {\n        // console.log('Slider.onPrevClick');\n        this.setState(prevState => {\n            let image = prevState.image - 1;\n            if (image < 0) {\n                image = this.props.images.length - 1;\n            }\n            return {image};\n        });\n    }\n    onNextClick = e => {\n        // console.log('Slider.onNextClick');\n        this.setState(prevState => {\n            let image = prevState.image + 1;\n            if (image > this.props.images.length-1) {\n                image = 0;\n            }\n            return {image};\n        });\n    }\n    onImageClick = e => {\n        console.log('Slider.onImageClick');\n        this.setState({classList: ['Slider_full']});\n    }\n    onCloseClick = e => {\n        this.setState({classList: null});\n    }\n    render() {\n        // console.log('Slider.render', this.props.images);\n        const images = this.props.images || [];\n        return <div className={this.getClassName()}>\n            <img className={'Slider_image'} src={images[this.state.image]} onClick={this.onImageClick}/>\n            <p className={'Slider__label'}>{images.length > 0 ? this.state.image+1 : 0}/{images.length}</p>\n            <button className={'Slider__prev'} onClick={this.onPrevClick}>prev</button>\n            <button className={'Slider__next'} onClick={this.onNextClick}>next</button>\n            <button className={'Slider__close'} onClick={this.onCloseClick}>close</button>\n        </div>;\n    }\n}\n","class Modal extends ReactComponent {\n    render() {\n        return (\n            <div className=\"Modal\">\n                <div>{this.props.children}</div>\n            </div>\n        );\n    }\n}\n","class Statusbar extends ReactComponent {\n    constructor(props) {\n        // console.log('Statusbar.constructor', props);\n        super(props);\n        this.state = {};\n    }\n    setLastQueryTime(lastQueryTime) {\n        this.setState({lastQueryTime});\n    }\n    render() {\n        return (\n            <div className=\"Statusbar\">\n                <div>Last query time: {this.state.lastQueryTime ? `${this.state.lastQueryTime} ms` : '-' }</div>\n            </div>\n        );\n    }\n}\n","class Tab extends ReactComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            active: 0\n        };\n    }\n    getActive() {\n        if (this.props.getActive) return this.props.getActive();\n        return this.state.active;\n    }\n    onLiMouseDown = e => {\n        // console.log('Tab.onLiMouseDown', e.target);\n        if (e.target.classList.contains('close')) return;\n        const i = parseInt(e.currentTarget.dataset.i);\n        if (this.props.getActive) {\n            if (this.props.onTabMouseDown) this.props.onTabMouseDown(i);\n        } else {\n            if (i !== this.getActive()) {\n                this.selectTab(i);\n            }\n        }\n    }\n    onLiClick = e => {\n        // console.log('Tab.onLiClick', e.target);\n        if (e.target.classList.contains('close')) {\n            const i = parseInt(e.currentTarget.dataset.i);\n            // console.log('close tab:', i);\n            if (this.props.onTabClose) this.props.onTabClose(i);\n        }\n    }\n    selectTab(i) {\n        if (i === this.getActive()) return;\n        const start = Date.now();\n        this.setState({active: i}, () => console.log('selectTab time:', Date.now() - start));\n    }\n\n    renderTitles() {\n        return this.props.tabs.map((tab, i) =>\n        <li\n            key={tab.name}\n            className={i === this.getActive() ? 'active' : null}\n            onMouseDown={this.onLiMouseDown}\n            onClick={this.onLiClick}\n            data-i={i}\n        >\n            <span>{tab.title}</span>\n            {this.props.canClose &&\n                <span className=\"close\">&times;</span>\n            }\n        </li>);\n    }\n    renderContents() {\n        return this.props.tabs.map((tab, i) =>\n        <div key={tab.name} className={i === this.getActive() ? 'active' : null}>\n            {tab.content}\n        </div>);\n    }\n    render() {\n\n        return (\n            <div className={this.getClassName()}>\n                <ul>\n                    {this.props.tabs && this.renderTitles()}\n                </ul>\n                <div>\n                    {this.props.tabs && this.renderContents()}\n                </div>\n            </div>\n        );\n    }\n}\n","class TextArea extends ReactComponent {\n    constructor(props) {\n        // console.log('TextArea.constructor', props);\n        super(props);\n        this.state = {\n            value: this.props.value || ''\n        }\n    }\n    getValue() {\n        return this.state.value;\n    }\n    onChange = e => {\n        // console.log('TextArea.onChange', e.target.value);\n        this.setState({value: e.target.value});\n        if (this.props.onChange) {\n            this.props.onChange(e.target.value);\n        }\n    }\n    shouldComponentUpdate(nextProps, nextState) {\n        // console.log('TextArea.shouldComponentUpdate', 'nextProps:', nextProps, 'nextState:', nextState);\n        this.state.value = nextProps.value;\n        return true;\n    }\n    render() {\n        // console.log('TextArea.render');\n        return (\n            <textarea\n                value={this.state.value}\n                readOnly={this.props.readOnly}\n                onChange={this.onChange}\n                placeholder={this.props.placeholder}\n                rows={this.props.rows}\n                cols={this.props.cols}\n            />\n        );\n    }\n}\n","class TextBox extends ReactComponent {\n    constructor(props) {\n        // console.log('TextBox.constructor', props);\n        super(props);\n        this.input = React.createRef();\n        this.state = {\n            value: this.props.value || ''\n        }\n    }\n    getValue() {\n        return this.state.value;\n    }\n    getInput() {\n        return this.input.current;\n    }\n    onChange = e => {\n        // console.log('TextBox.onChange', e.target.value);\n        this.state.value = e.target.value;\n        this.setState({value: e.target.value});\n        if (this.props.onChange) {\n            this.props.onChange(e.target.value);\n        }\n    }\n    shouldComponentUpdate(nextProps, nextState) {\n        // console.log('TextBox.shouldComponentUpdate', 'nextProps:', nextProps, 'nextState:', nextState);\n        this.state.value = nextProps.value;\n        return true;\n    }\n    render() {\n        // console.log('TextBox.render');\n        return (\n            <input\n                ref={this.input}\n                className={this.getClassName()}\n                type=\"text\"\n                name={this.props.name}\n                id={this.props.id}\n                readOnly={this.props.readOnly}\n                placeholder={this.props.placeholder}\n                spellCheck={this.props.spellCheck}\n                onChange={this.onChange}\n                value={this.state.value}\n                disabled={this.props.disabled}\n                autoComplete={this.props.autocomplete}\n            />\n        );\n    }\n}\n","class Tooltip extends ReactComponent {\n    // constructor(props) {\n    //     console.log('Tooltip.constructor', props);\n    //     super(props);\n    // }\n    render() {\n        // console.log('Tooltip.render', this.state, this.props);\n        return (\n            <div className={`Tooltip ${this.props.type} ${this.props.hidden ? 'hidden' : ''}`}>\n                {this.props.type !== 'alert' &&\n                    <div>tooltip</div>\n                }\n                <span className={this.props.position}>{this.props.tip || 'tip'}</span>\n            </div>\n        );\n    }\n}\n","class TimeBox extends ReactComponent {\n    constructor(props) {\n        // console.log('TimeBox.constructor', props);\n        super(props);\n        if (props.value && typeof props.value !== 'number') {\n            throw new Error(`need number type, got ${typeof props.value}`);\n        }\n        this.state = {\n            value: TimeBox.getStringValue(props.value)\n        };\n        this.input = React.createRef();\n    }\n    getInput() {\n        return this.input.current;\n    }\n    onKeyPress = event => {\n        // console.log('TimeBox.onKeyPress', event.key, event.target.value);\n        if (!['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'].includes(event.key)) {\n            console.log('cancel', event.key);\n            event.preventDefault();\n        }\n    }\n    formatValue(value) {\n        let min = '';\n        let sec = '';\n        const pure = value.replace(':', '');\n        switch (pure.length) {\n            case 0: break;\n            case 1:\n                min = pure;\n                break;\n            case 2:\n                min = pure;\n                break;\n            case 3:\n                min = pure.substr(0, 2);\n                sec = pure.substr(2, 1);\n                break;\n            case 4:\n                min = pure.substr(0, 2);\n                sec = pure.substr(2, 2);\n                break;\n        }\n        return [\n            min,\n            ...(sec ? [sec] : [])\n        ].join(':');\n    }\n    onChange = e => {\n        // console.log('TimeBox.onChange', e.target.value);\n        const target = e.target;\n        const start = target.selectionStart;\n        const end   = target.selectionEnd;\n        if (target.value.length > 5) {\n            return;\n        }\n        const inEnd = start === end && start === target.value.length;\n        const stringValue = this.formatValue(target.value);\n        // console.log('before:', target.selectionStart, target.selectionEnd);\n        this.setState({value: stringValue}, () => {\n            // console.log('after:', target.selectionStart, target.selectionEnd);\n            // console.log('inEnd:', inEnd);\n            if (!inEnd) {\n                target.selectionStart = start;\n                target.selectionEnd   = end;\n            }\n            if (this.props.onChange) {\n                let nValue;\n                try {\n                    nValue = this.getValue();\n                } catch (err) {\n                    console.log(err.message);\n                    nValue = NaN;\n                }\n                // console.log('nValue:', nValue);\n                this.props.onChange(nValue);\n            }\n        });\n\n    }\n    getValue() {\n        return TimeBox.getIntegerValue(this.state.value);\n    }\n    setValue(value) {\n        this.setState({value: TimeBox.getStringValue(value)});\n    }\n    onBlur = e => {\n        // console.log('TimeBox.onBlur');\n        if (this.props.onBlur) {\n            let nValue;\n            try {\n                nValue = this.getValue();\n            } catch (err) {\n                console.log(err.message);\n                nValue = NaN;\n            }\n            // console.log('nValue:', nValue);\n            this.props.onBlur(nValue);\n        }\n    }\n    /*onKeyDown = event => {\n        console.log('TimeBox.onKeyDown', event.which, event.target.value.length, event.target.selectionStart, event.target.selectionEnd, event.key);\n        const mask = '00:00';\n        if ([8, 46, 37, 39, 36, 35].includes(event.which)) return;\n        if (event.which < 96 || event.which > 105) {\n            console.log('cancel');\n            event.stopPropagation();\n            event.preventDefault();\n        }\n\n        if (event.target.value.length + 1 > mask.length) {\n            event.stopPropagation();\n            event.preventDefault();\n        }\n    }*/\n    /*onKeyUp = event => {\n        console.log('TimeBox.onKeyUp', event.which, event.target.value.length, event.target.selectionStart, event.target.selectionEnd, event.target.value);\n        event.stopPropagation();\n        event.preventDefault();\n    }*/\n    static getStringValue(value) {\n        // console.log('TimeBox.getStringValue', value);\n        if (value === null) return '';\n        if (value !== undefined) {\n            let h = Math.floor(value / 60);\n            let m = Math.floor(value - h * 60);\n            if (h < 10) h = '0' + h;\n            if (m < 10) m = '0' + m;\n            return `${h}:${m}`;\n        }\n        return '';\n    }\n    static getIntegerValue(stringValue) {\n        // console.log('TimeBox.getIntegerValue', stringValue);\n        // try {\n            if (stringValue === '') return null;\n            const arr = stringValue.split(':');\n            if (!arr[0]) throw new Error(`no hours: ${stringValue}`);\n            if (!arr[1]) throw new Error(`no minutes: ${stringValue}`);\n            if (arr[0].length !== 2) throw new Error(`hours incomplete: ${stringValue}`);\n            if (arr[1].length !== 2) throw new Error(`minutes incomplete: ${stringValue}`);\n            const hh = parseInt(arr[0]);\n            const mm = parseInt(arr[1]);\n            if (hh > 23) throw new Error(`hours out of range: ${mm}, ${stringValue}`);\n            if (mm > 59) throw new Error(`minutes out of range: ${mm}, ${stringValue}`);\n            return hh*60 + mm;\n        // } catch (err) {\n        //     console.error(err.message);\n        //     return NaN;\n        // }\n    }\n    static splitTime(value) {\n        const hours = Math.floor(value / 60);\n        const minutes = value - hours * 60;\n        return [hours, minutes];\n    }\n    shouldComponentUpdate(nextProps, nextState) {\n        // console.log('TimeBox.shouldComponentUpdate', this.state, nextState);\n        if (this.props.value !== nextProps.value) {\n            this.state.value = TimeBox.getStringValue(nextProps.value);\n            return true;\n        }\n        if (this.props.readOnly !== nextProps.readOnly) return true;\n        if (this.props.placeholder !== nextProps.placeholder) return true;\n        if (this.state.value !== nextState.value) return true;\n        return false;\n    }\n    render() {\n        // console.log('TimeBox.render', this.state.value);\n        return (\n            <input\n                type=\"text\"\n                className={this.getClassName()}\n                id={this.props.id}\n                readOnly={this.props.readOnly}\n                placeholder={this.props.placeholder}\n                value={this.state.value}\n                onChange={this.onChange}\n                // onKeyDown={this.onKeyDown}\n                // onKeyUp={this.onKeyUp}\n                onKeyPress={this.onKeyPress}\n                onBlur={this.onBlur}\n                ref={this.input}\n            />\n        );\n    }\n}\n"]}