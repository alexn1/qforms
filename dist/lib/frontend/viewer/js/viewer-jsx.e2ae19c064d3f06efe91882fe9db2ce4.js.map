{"version":3,"sources":["Controller/View.jsx","Controller/AlertController/View.jsx","Controller/ConfirmController/View.jsx","Controller/LoginController/View.jsx","Controller/ModalController/ImageDialogController/View.jsx","Controller/ModelController/ModelView.jsx","Controller/ModelController/ApplicationController/ApplicationView.jsx","Controller/ModelController/FieldController/FieldView.jsx","Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldView.jsx","Controller/ModelController/FieldController/RowFormFieldController/RowFormCheckBoxFieldController/RowFormCheckBoxFieldView.jsx","Controller/ModelController/FieldController/RowFormFieldController/RowFormCheckBoxListFieldController/RowFormCheckBoxListFieldView.jsx","Controller/ModelController/FieldController/RowFormFieldController/RowFormComboBoxFieldController/RowFormComboBoxFieldView.jsx","Controller/ModelController/FieldController/RowFormFieldController/RowFormDateFieldController/RowFormDateFieldView.jsx","Controller/ModelController/FieldController/RowFormFieldController/RowFormDateTimeFieldController/RowFormDateTimeFieldView.jsx","Controller/ModelController/FieldController/RowFormFieldController/RowFormFileFieldController/RowFormFileFieldView.jsx","Controller/ModelController/FieldController/RowFormFieldController/RowFormImageFieldController/RowFormImageFieldView.jsx","Controller/ModelController/FieldController/RowFormFieldController/RowFormLinkFieldController/RowFormLinkFieldView.jsx","Controller/ModelController/FieldController/RowFormFieldController/RowFormPasswordFieldController/RowFormPasswordFieldView.jsx","Controller/ModelController/FieldController/RowFormFieldController/RowFormPhoneFieldController/RowFormPhoneFieldView.jsx","Controller/ModelController/FieldController/RowFormFieldController/RowFormRadioFieldController/RowFormRadioFieldView.jsx","Controller/ModelController/FieldController/RowFormFieldController/RowFormTextAreaFieldController/RowFormTextAreaFieldView.jsx","Controller/ModelController/FieldController/RowFormFieldController/RowFormTextBoxFieldController/RowFormTextBoxFieldView.jsx","Controller/ModelController/FieldController/RowFormFieldController/RowFormTimeFieldController/RowFormTimeFieldView.jsx","Controller/ModelController/FieldController/TableFormFieldController/TableFormFieldView.jsx","Controller/ModelController/FieldController/TableFormFieldController/TableFormCheckBoxFieldController/TableFormCheckBoxFieldView.jsx","Controller/ModelController/FieldController/TableFormFieldController/TableFormComboBoxFieldController/TableFormComboBoxFieldView.jsx","Controller/ModelController/FieldController/TableFormFieldController/TableFormDateFieldController/TableFormDateFieldView.jsx","Controller/ModelController/FieldController/TableFormFieldController/TableFormDateTimeFieldController/TableFormDateTimeFieldView.jsx","Controller/ModelController/FieldController/TableFormFieldController/TableFormLinkFieldController/TableFormLinkFieldView.jsx","Controller/ModelController/FieldController/TableFormFieldController/TableFormPhoneFieldController/TableFormPhoneFieldView.jsx","Controller/ModelController/FieldController/TableFormFieldController/TableFormTextAreaFieldController/TableFormTextAreaFieldView.jsx","Controller/ModelController/FieldController/TableFormFieldController/TableFormTextBoxFieldController/TableFormTextBoxFieldView.jsx","Controller/ModelController/FieldController/TableFormFieldController/TableFormTimeFieldController/TableFormTimeFieldView.jsx","Controller/ModelController/FormController/FormView.jsx","Controller/ModelController/FormController/RowFormController/RowFormView.jsx","Controller/ModelController/FormController/TableFormController/TableFormView.jsx","Controller/ModelController/PageController/PageView.jsx"],"names":["View","ReactComponent","constructor","props","super","ctrl","Error","this","name","onCreate","getCtrl","AlertView","el","React","createRef","getHeaderStyle","options","titleStyle","render","createElement","className","getCssClassNames","ref","tabIndex","onKeyDown","getCssBlockName","style","title","onClick","onCloseClick","CloseIcon2","message","Button","classList","onOkButtonClick","componentDidMount","getElement","focus","ConfirmView","yesButton","noButton","onYesClick","LoginView","_defineProperty","e","document","querySelector","disabled","errMsgRef","current","innerHTML","renderLogo","renderTitle","getFrontHostApp","getData","method","onSubmit","onLoginFormSubmit","type","value","JSON","stringify","Date","getTimezoneOffset","TextBox","placeholder","getText","login","username","required","autoFocus","spellCheck","onChange","Password","password","errMsg","signIn","ImageDialogView","console","log","src","getSrc","onImageClick","ModelView","getActionsForDropdownButton","getModel","getCol","map","data","actionName","Model","getName","renderActionIcon","key","getAttr","enabled","isActionEnabled","model","isAttr","getStyle","window","QForms","ApplicationView","renderActivePage","activePage","renderView","getViewClass","parent","onViewCreate","renderModals","modals","PageController","Modal","getId","renderHeader","Menu","items","getMenuItemsProp","onMenuItemClick","renderMain","renderFooter","Statusbar","onStatusbarCreate","getFullName","FieldView","row","getViewStyle","RowFormFieldView","widget","getWidget","getClassList","isEditable","isChanged","getErrorMessage","RowFormCheckBoxFieldView","args","checked","CheckBox","onWidgetCreate","getValueForWidget","readOnly","onCheckBoxChange","RowFormCheckBoxListFieldView","getItems","getRows","getItemFromRow","err","renderCheckBoxList","CheckBoxList","RowFormComboBoxFieldView","widgetValue","rerender","isCreateButtonVisible","getForm","getMode","renderSelect","Select","getPlaceholder","onMouseDown","onItemSelect","renderEditButton","onEditButtonClick","getValue","renderCreateButton","onCreateButtonClick","RowFormDateFieldView","DropdownDatePicker","format","getFormat","oldDates","minDate","RowFormDateTimeFieldView","async","onChange2","isCloseVisible","widget2","state","undefined","renderDatePart","highlightedDate","getHighlightedDate","selectToday","getSelectToday","getMinDate","renderTimePart","TimeBox2","onView2Create","getValueForTime","onBlur","isValidateOnBlur2","onBlur2","getPlaceholder2","onClear","onClear2","getRow","RowFormFileFieldView","file","target","files","Helper","readFileAsDataURL","app","getApp","imageDialogCtrl","ImageDialogController","id","getNewId","onClose","getPage","getView","openModal","getInput","click","image","div","input","getImage","getDiv","updateSize","ns","getNaturalSize","innerText","Image","formatNumber","length","onImageIconClick","xmlns","width","height","viewBox","d","display","onClearClick","field","clear","setTimeout","componentDidUpdate","prevProps","prevState","snapshot","RowFormImageFieldView","RowFormLinkFieldView","href","RowFormPasswordFieldView","setState","addCssClass","removeCssClass","isAutoFocus","autocomplete","getAutocomplete","onFocus","CloseIcon","onIconClick","VisibilityIcon","VisibilityOffIcon","RowFormPhoneFieldView","renderPhoneBox","PhoneBox","renderClearButton","renderPhoneIcon","PhoneIcon","RowFormRadioFieldView","currentTarget","dataset","parse","onChangePure","item","data-value","RowFormTextAreaFieldView","TextArea","rows","cols","getCols","RowFormTextBoxFieldView","isEnabled","renderTextBox","renderCloseIcon","RowFormTimeFieldView","TimeBox","TableFormFieldView","span","getSpanOffsetWidth","offsetWidth","TableFormCheckBoxFieldView","TableFormComboBoxFieldView","TableFormDateFieldView","TableFormDateTimeFieldView","TableFormLinkFieldView","TableFormPhoneFieldView","formatPhoneNumber","TableFormTextAreaFieldView","TableFormTextBoxFieldView","TableFormTimeFieldView","FormView","li","action","onActionClick","getActiveRow","error","alert","checkParent","shouldComponentUpdate","nextProps","nextState","updated","RowFormView","renderToolbar","text","hasDefaultSqlDataSource","onEditClick","visible","form","edit","changed","hasNew","valid","onSaveClick","save","getKey","onCancelClick","cancel","isValid","onDiscardClick","discard","onRefreshClick","refresh","isActionsVisible","hasActions","DropdownButton","actions","onActionsClick","isActionsEnabled","MoreVertIcon","renderLabel","fieldCtrl","getCaption","isNotNull","color","renderField","renderFieldView","renderError","Tooltip","position","hidden","tip","renderGroup","renderGroups","Object","keys","fields","filter","getField","isVisible","TableFormView","column","onUnmount","createLink","page","DataSource","keyToParams","dataSource","getDefaultDataSource","newRowMode","onNewClick","new","refreshButton","deleteRowMode","onDeleteClick","isRowSelected","delete","renderPaging","getRowsLength","getLimit","getCount","canPrev","onPreviousClick","LeftIcon","size","ComboBox","getFrame","toString","onFrameChanged","Array","getFramesCount","fill","val","i","canNext","onNextClick","RightIcon","getGridColumns","getWidth","getGridExtraColumn","getGridClass","Grid","renderGrid","onGridCreate","columns","getRowKey","onDoubleClick","onGridCellDblClick","onDeleteKeyDown","onGridDeleteKeyDown","onSelectionChange","onGridSelectionChange","onLinkClick","onGridLinkClick","renderGridCellView","getUpdated","extraColumn","selectedKey","getOptions","createLinkCallback","PageView","isToolbar","isSelectMode","getFormTabs","forms","getTitle","content","renderForm","getRowForms","getClassName","getTableForms","formCtrl","renderRowForms","hasRowFormWithDefaultSqlDataSource","renderSelectButton","onSelectClick","getSelectedRowKey","DoneIcon","select","renderSaveAndCloseButton","onSaveAndCloseClick","saveAndClose","renderCloseButton","onClosePageClick","close","renderActionsDropdownButton","renderTableForms","tableForms","Tab2","tabs","renderOpenPageHeaderButton","onOpenPageClick","OpenInNewIcon","renderClosePageHeaderButton","isModal","renderForms","hasRowForm","hasTableForm","renderForms2"],"mappings":"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","file":"viewer-jsx.e2ae19c064d3f06efe91882fe9db2ce4.js","sourcesContent":["class View extends ReactComponent {\n    constructor(props) {\n        super(props);\n        if (!props.ctrl) throw new Error(`${this.constructor.name}: no ctrl`);\n        if (!props.onCreate) throw new Error(`${this.constructor.name}: no onCreate`);\n    }\n    getCtrl() {\n        return this.props.ctrl;\n    }\n}\n","class AlertView extends View {\n    constructor(props) {\n        super(props);\n        this.el = React.createRef();\n    }\n    getHeaderStyle() {\n        return this.getCtrl().options.titleStyle/* || {color: 'red'}*/;\n    }\n    render() {\n        return (\n            <div className={this.getCssClassNames()}\n                 ref={this.el}\n                 tabIndex={0}\n                 onKeyDown={this.getCtrl().onKeyDown}\n            >\n                <div className={`${this.getCssBlockName()}__container`}>\n                    <div className={`${this.getCssBlockName()}__content flex-column`}>\n                        <div className={`${this.getCssBlockName()}__header`}>\n                            <div className={`${this.getCssBlockName()}__title`} style={this.getHeaderStyle()}>\n                                {this.getCtrl().options.title || 'Alert'}\n                            </div>\n                            <div className={`${this.getCssBlockName()}__close`} onClick={this.getCtrl().onCloseClick}>\n                                <CloseIcon2/>\n                            </div>\n                        </div>\n                        <div className={`${this.getCssBlockName()}__main flex-max`}>\n                            {this.getCtrl().options.message}\n                        </div>\n                        <div className={`${this.getCssBlockName()}__footer`}>\n                            <Button classList={[`${this.getCssBlockName()}__ok-button`]} title={'OK'} onClick={this.getCtrl().onOkButtonClick}/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n    componentDidMount() {\n        this.getElement().focus();\n    }\n}\n","class ConfirmView extends View {\n    constructor(props) {\n        super(props);\n        this.el = React.createRef();\n    }\n    render() {\n        // console.log('ConfirmView.render', this.getCtrl().options);\n        if (!this.getCtrl().options.yesButton) throw new Error('no yesButton option');\n        if (!this.getCtrl().options.noButton) throw new Error('no noButton option');\n        return (\n            <div className={this.getCssClassNames()}\n                 ref={this.el}\n                 tabIndex={0}\n                 onKeyDown={this.getCtrl().onKeyDown}\n            >\n                <div className={`${this.getCssBlockName()}__container`}>\n                    <div className={`${this.getCssBlockName()}__content flex-column`}>\n                        <div className={`${this.getCssBlockName()}__header`}>\n                            <div className={`${this.getCssBlockName()}__title`} style={this.getCtrl().options.titleStyle}>\n                                {this.getCtrl().options.title || 'Confirm'}\n                            </div>\n                            <div className={`${this.getCssBlockName()}__close`} onClick={this.getCtrl().onCloseClick}>\n                                <CloseIcon2/>\n                            </div>\n                        </div>\n                        <div className={`${this.getCssBlockName()}__main flex-max`}>\n                            {this.getCtrl().options.message}\n                        </div>\n                        <div className={`${this.getCssBlockName()}__footer`}>\n                            <Button classList={[`${this.getCssBlockName()}__no-button`]}\n                                    title={this.getCtrl().options.noButton}\n                                    onClick={this.getCtrl().onCloseClick}\n                            />\n                            <Button classList={[`${this.getCssBlockName()}__yes-button`]}\n                                    title={this.getCtrl().options.yesButton}\n                                    onClick={this.getCtrl().onYesClick}\n                            />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n    componentDidMount() {\n        this.getElement().focus();\n    }\n}\n","class LoginView extends View {\n    constructor(props) {\n        super(props);\n        this.errMsgRef = React.createRef();\n    }\n    onLoginFormSubmit = e => {\n        // console.log('LoginView.onLoginFormSubmit');\n        document.querySelector('.LoginView__button').disabled = true;\n        // e.preventDefault();\n    }\n    renderLogo() {\n    }\n    renderTitle() {\n        return this.getCtrl().getFrontHostApp().getData().title;\n    }\n    onChange = e => {\n        this.errMsgRef.current.innerHTML = '';\n    }\n    render() {\n        // console.log('LoginView.render');\n        return <div className={`${this.getCssBlockName()}__container`}>\n            <form className={`${this.getCssBlockName()}__form`}\n                  method={'post'}\n                  onSubmit={this.onLoginFormSubmit}\n            >\n                <input type={'hidden'} name={'tzOffset'} value={JSON.stringify(new Date().getTimezoneOffset())}/>\n                <input type={'hidden'} name={'action'} value={'login'}/>\n                <div className={`${this.getCssBlockName()}__logo-title`}>\n                    <div className={`${this.getCssBlockName()}__logo`}>\n                        {this.renderLogo()}\n                    </div>\n                    <div className={`${this.getCssBlockName()}__title`}>\n                        {this.renderTitle()}\n                    </div>\n                </div>\n                <TextBox classList={[`${this.getCssBlockName()}__field`]}\n                       name={'username'}\n                       placeholder={this.getCtrl().getText().login.username}\n                       required={true}\n                       autoFocus={true}\n                       spellCheck={false}\n                       value={this.getCtrl().getFrontHostApp().getData().username || ''}\n                       onChange={this.onChange}\n                />\n                <Password classList={[`${this.getCssBlockName()}__field2`]}\n                          name={'password'}\n                          placeholder={this.getCtrl().getText().login.password}\n                          value={this.getCtrl().getFrontHostApp().getData().password || ''}\n                          onChange={this.onChange}\n                />\n                <p className={`${this.getCssBlockName()}__err-msg`} ref={this.errMsgRef}>\n                    {this.getCtrl().getFrontHostApp().getData().errMsg}\n                </p>\n                <button className={`${this.getCssBlockName()}__button`} type={'submit'}>\n                    {this.getCtrl().getText().login.signIn}\n                </button>\n            </form>\n        </div>;\n    }\n}\n","class ImageDialogView extends View {\n    constructor(props) {\n        super(props);\n        this.el = React.createRef();\n    }\n    render() {\n        console.log('ImageDialogView.render');\n        const ctrl = this.props.ctrl;\n        return <div className={this.getCssClassNames()}\n                    ref={this.el}\n                    tabIndex={0}\n                    onKeyDown={this.getCtrl().onKeyDown}\n        >\n            <img className={`${this.getCssBlockName()}__image`} src={ctrl.getSrc()} onClick={ctrl.onImageClick}/>\n            <div className={`${this.getCssBlockName()}__close`} onClick={ctrl.onCloseClick}>\n                <CloseIcon2/>\n            </div>\n        </div>;\n    }\n    componentDidMount() {\n        this.getElement().focus();\n    }\n}\n","class ModelView extends View {\n    getActionsForDropdownButton() {\n        return this.props.ctrl.getModel().getCol('actions').map(data => {\n            const actionName = Model.getName(data);\n            return {\n                name : actionName,\n                title: this.renderActionIcon ? [\n                    <div key={'icon'}>{this.renderActionIcon(actionName)}</div>,\n                    <div key={'title'}>{Model.getAttr(data, 'caption')}</div>\n                ] : Model.getAttr(data, 'caption'),\n                enabled: this.getCtrl().isActionEnabled(actionName)\n            };\n        });\n    }\n    getCssBlockName() {\n        const model = this.props.ctrl.getModel();\n        if (model.isAttr('cssBlock') && model.getAttr('cssBlock')) {\n            return model.getAttr('cssBlock');\n        }\n        return super.getCssBlockName();\n    }\n    getStyle() {\n\n    }\n}\n\nwindow.QForms.ModelView = ModelView;\n","class ApplicationView extends ModelView {\n    renderActivePage() {\n        const ctrl = this.props.ctrl;\n        if (ctrl.activePage) {\n            return this.renderView(ctrl.activePage);\n        }\n    }\n    renderView(ctrl, props = {}) {\n        return React.createElement(ctrl.getViewClass(), {\n            parent  : this,\n            ctrl    : ctrl,\n            onCreate: ctrl.onViewCreate,\n            ...props\n        });\n    }\n    renderModals() {\n        return this.props.ctrl.modals.map(ctrl => {\n            if (ctrl instanceof PageController) {\n                return <Modal key={ctrl.getId()}>\n                    {this.renderView(ctrl)}\n                </Modal>;\n            }\n            return this.renderView(ctrl, {key: ctrl.getId()});\n        });\n    }\n    renderHeader() {\n        return <header className={`${this.getCssBlockName()}__header`}>\n            <Menu items={this.getCtrl().getMenuItemsProp()} onClick={this.getCtrl().onMenuItemClick}/>\n        </header>;\n    }\n    renderMain() {\n        return <main className={`${this.getCssBlockName()}__main`}>\n            {this.renderActivePage()}\n        </main>;\n    }\n    renderFooter() {\n        return <footer className={`${this.getCssBlockName()}__footer`}>\n            <Statusbar onCreate={this.getCtrl().onStatusbarCreate}/>\n        </footer>;\n    }\n    render() {\n        console.log(`${this.constructor.name}.render`, this.props.ctrl.model.getFullName());\n        return <div className={`${this.getCssBlockName()}__container`} style={this.getStyle()}>\n            {this.renderHeader()}\n            {this.renderMain()}\n            {this.renderFooter()}\n            {this.renderModals()}\n        </div>;\n    }\n}\n\nwindow.QForms.ApplicationView = ApplicationView;\n","class FieldView extends ModelView {\n    getStyle(row) {\n        return this.getCtrl().getViewStyle(row);\n    }\n}\n","class RowFormFieldView extends FieldView {\n    constructor(props) {\n        super(props);\n        this.widget = null;\n    }\n    getWidget() {\n        return this.widget;\n    }\n    getClassList() {\n        const ctrl = this.getCtrl();\n        return [\n            ...super.getClassList(),\n            ...(ctrl.isEditable()                ? ['editable'] : []),\n            ...(ctrl.isChanged()                ? ['changed'] : []),\n            ...(ctrl.getErrorMessage() !== null ? ['error']   : []),\n        ];\n    }\n    onWidgetCreate = widget => {\n        this.widget = widget;\n    }\n}\nwindow.QForms.RowFormFieldView = RowFormFieldView;\n","class RowFormCheckBoxFieldView extends RowFormFieldView {\n    onCheckBoxChange = (checked, e) => {\n        this.getCtrl().onChange(checked);\n    }\n    render() {\n        // console.log('RowFormCheckBoxFieldView.render');\n        const ctrl = this.getCtrl();\n        return <div className={this.getCssClassNames()}>\n            <CheckBox\n                onCreate={this.onWidgetCreate}\n                checked={ctrl.getValueForWidget()}\n                readOnly={!ctrl.isEditable()}\n                disabled={!ctrl.isEditable()}\n                onChange={this.onCheckBoxChange}\n            />\n        </div>;\n    }\n}\n\nwindow.QForms.RowFormCheckBoxFieldView = RowFormCheckBoxFieldView;\n","class RowFormCheckBoxListFieldView extends RowFormFieldView {\n    getItems() {\n        const ctrl = this.getCtrl();\n        try {\n            return ctrl.getRows().map(row => {\n                return ctrl.getItemFromRow(row);\n            });\n        } catch (err) {\n            err.message = `${ctrl.getModel().getFullName()}: ${err.message}`;\n            throw err;\n        }\n    }\n    renderCheckBoxList() {\n        const ctrl = this.getCtrl();\n        return <CheckBoxList\n            name={ctrl.getModel().getFullName()}\n            classList={[`${this.getCssBlockName()}__checkboxlist`]}\n            onCreate={this.onWidgetCreate}\n            value={ctrl.getValueForWidget()}\n            readOnly={!ctrl.isEditable()}\n            onChange={ctrl.onChange}\n            items={this.getItems()}\n        />;\n    }\n    render() {\n        return <div className={this.getCssClassNames()}>\n            {this.renderCheckBoxList()}\n        </div>;\n    }\n}\n","class RowFormComboBoxFieldView extends RowFormFieldView {\n    onChange = async widgetValue => {\n        // console.log('RowFormComboBoxFieldView.onChange', widgetValue);\n        this.rerender();\n        await this.props.ctrl.onChange(widgetValue);\n    }\n    isCreateButtonVisible() {\n        if (this.getCtrl().getForm().getMode() !== 'edit') {\n            return false;\n        }\n        if (this.getCtrl().getModel().getAttr('newRowMode') === 'disabled') {\n            return false;\n        }\n        if (this.getCtrl().getModel().getAttr('newRowMode') === 'editPage') {\n            return !!this.getCtrl().getModel().getAttr('itemEditPage')\n                && !!this.getCtrl().getModel().getAttr('itemCreateForm');\n        }\n        if (this.getCtrl().getModel().getAttr('newRowMode') === 'createPage') {\n            return !!this.getCtrl().getModel().getAttr('itemCreatePage')\n                && !!this.getCtrl().getModel().getAttr('itemCreateForm');\n        }\n    }\n    renderSelect() {\n        const ctrl = this.getCtrl();\n        return <Select\n            classList={[`${this.getCssBlockName()}__select`]}\n            onCreate={this.onWidgetCreate}\n            // nullable={ctrl.getModel().isNullable()}\n            value={ctrl.getValueForWidget()}\n            readOnly={!ctrl.isEditable()}\n            onChange={this.onChange}\n            items={ctrl.getItems()}\n            placeholder={ctrl.getPlaceholder()}\n            onMouseDown={ctrl.getModel().getAttr('itemSelectPage') ? ctrl.onItemSelect : null}\n        />;\n    }\n    renderEditButton() {\n        const ctrl = this.getCtrl();\n        return <Button\n            classList={[`${this.getCssBlockName()}__edit-button`]}\n            onClick={ctrl.onEditButtonClick}\n            enabled={!!ctrl.getValue()}\n        >...</Button>;\n    }\n    renderCreateButton() {\n        const ctrl = this.getCtrl();\n        return <Button\n            classList={[`${this.getCssBlockName()}__create-button`]}\n            onClick={ctrl.onCreateButtonClick}\n        >+</Button>;\n    }\n    render() {\n        // console.log('RowFormComboBoxFieldView.render', this.props.ctrl.getItems(), this.props.ctrl.getValue());\n        return (\n            <div className={this.getCssClassNames()}>\n                {this.renderSelect()}\n                {this.getCtrl().getModel().getAttr('itemEditPage') && !!this.getCtrl().getValue() &&\n                    this.renderEditButton()\n                }\n                {this.isCreateButtonVisible() &&\n                    this.renderCreateButton()\n                }\n            </div>\n        );\n    }\n}\nwindow.QForms.RowFormComboBoxFieldView = RowFormComboBoxFieldView;\n","class RowFormDateFieldView extends RowFormFieldView {\n    render() {\n        const ctrl = this.props.ctrl;\n        return <div className={this.getCssClassNames()}>\n            <DropdownDatePicker\n                classList={[`${this.getCssBlockName()}__date-picker`]}\n                onCreate={this.onWidgetCreate}\n                value={ctrl.getValueForWidget()}\n                readOnly={!ctrl.isEditable()}\n                onChange={ctrl.onChange}\n                placeholder={ctrl.getPlaceholder()}\n                format={ctrl.getFormat()}\n                oldDates={this.props.oldDates}\n                // getMinDate={this.props.getMinDate}\n                minDate={this.props.minDate}\n            />\n        </div>;\n    }\n}\nwindow.QForms.RowFormDateFieldView = RowFormDateFieldView;\n","class RowFormDateTimeFieldView extends RowFormFieldView {\n    onClear2 = async () => {\n        // console.log('RowFormDateTimeFieldView.onClear2');\n        this.getCtrl().onChange2(null);\n    }\n    isCloseVisible() {\n        if (this.props.readOnly) return false;\n        const ctrl = this.props.ctrl;\n        if (!ctrl.widget2) {\n            return this.props.value !== undefined;\n        }\n        return ctrl.widget2.state.value !== '';\n    }\n    renderDatePart() {\n        const ctrl = this.getCtrl();\n        return <DropdownDatePicker\n            classList={[`${this.getCssBlockName()}__dropdown-date-picker`]}\n            onCreate={this.onWidgetCreate}\n            value={ctrl.getValueForWidget()}\n            readOnly={!ctrl.isEditable()}\n            onChange={ctrl.onChange}\n            placeholder={ctrl.getPlaceholder()}\n            format={ctrl.getFormat()}\n            oldDates={this.props.oldDates}\n            // getMinDate={this.props.getMinDate}\n            highlightedDate={ctrl.getHighlightedDate ? ctrl.getHighlightedDate() : null}\n            selectToday={ctrl.getSelectToday ? ctrl.getSelectToday() : null}\n            minDate={ctrl.getMinDate ? ctrl.getMinDate() : null}\n        />;\n    }\n    renderTimePart() {\n        const ctrl = this.getCtrl();\n        return <TimeBox2 classList={[`${this.getCssBlockName()}__time-box`]}\n            onCreate={ctrl.onView2Create}\n            readOnly={!ctrl.isEditable()}\n            value={ctrl.getValueForTime()}\n            onChange={ctrl.onChange2}\n            onBlur={ctrl.isValidateOnBlur2() ? ctrl.onBlur2 : null}\n            placeholder={ctrl.getPlaceholder2()}\n            onClear={this.onClear2}\n        />;\n    }\n    getMode() {\n        return this.getCtrl().state.value ? 'datetime' : 'date';\n    }\n    render() {\n        // console.log('RowFormDateTimeFieldView.render');\n        return <div className={`${this.getCssClassNames()} ${this.getMode()}`} style={this.getStyle(this.getCtrl().getRow())}>\n            {this.renderDatePart()}\n            {this.renderTimePart()}\n        </div>;\n    }\n}\nwindow.QForms.RowFormDateTimeFieldView = RowFormDateTimeFieldView;\n","class RowFormFileFieldView extends RowFormFieldView {\n    constructor(props) {\n        super(props);\n        this.image = React.createRef();\n        this.div   = React.createRef();\n        this.input = React.createRef();\n    }\n    getImage() {\n        return this.image.current;\n    }\n    getDiv() {\n        return this.div.current;\n    }\n    getInput() {\n        return this.input.current;\n    }\n    updateSize() {\n        if (this.getImage()) {\n            const ns = this.getImage().getNaturalSize();\n            this.getDiv().innerText = `${ns[0]}${ns[1]}`;\n        }\n    }\n    onClearClick = e => {\n        this.props.ctrl.onChange('');\n    }\n    onChange = async e => {\n        const file = e.target.files[0];\n        if (file) {\n            const widgetValue = await Helper.readFileAsDataURL(file);\n            // console.log('widgetValue:', widgetValue);\n            this.props.ctrl.onChange(widgetValue);\n        }\n    }\n    onImageClick = async e => {\n        console.log('RowFormFileFieldView.onImageClick');\n        const ctrl = this.props.ctrl;\n        const app = ctrl.getApp();\n        const src = ctrl.getValueForWidget();\n        const imageDialogCtrl = new ImageDialogController({\n            app,\n            id: app.getNewId(),\n            src,\n            onClose: () => {\n                console.log('onClose');\n                this.getCtrl().getPage().getView().getElement().focus();\n            }\n        });\n        await app.openModal(imageDialogCtrl);\n    }\n    render() {\n        const ctrl = this.getCtrl();\n        const row = ctrl.getRow();\n        const value = ctrl.getValueForWidget();\n        return <div className={this.getCssClassNames()} style={this.getStyle(row)}>\n            {!!value ?\n                <div className={`${this.getCssBlockName()}__image-block`}>\n                    <Image classList={[`${this.getCssBlockName()}__image`]} ref={this.image} src={value} onClick={this.onImageClick}/>\n                    <span className={`${this.getCssBlockName()}__size`} ref={this.div}></span>\n                    <span className={`${this.getCssBlockName()}__length`}>{Helper.formatNumber(value.length)}</span>\n                </div> :\n                <div className={`${this.getCssBlockName()}__image-icon`} onClick={this.onImageIconClick}>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width={48*2} height={48*2}  viewBox=\"0 0 48 48\"><path d=\"M38.65 15.3V11h-4.3V8h4.3V3.65h3V8H46v3h-4.35v4.3ZM4.7 44q-1.2 0-2.1-.9-.9-.9-.9-2.1V15.35q0-1.15.9-2.075.9-.925 2.1-.925h7.35L15.7 8h14v3H17.1l-3.65 4.35H4.7V41h34V20h3v21q0 1.2-.925 2.1-.925.9-2.075.9Zm17-7.3q3.6 0 6.05-2.45 2.45-2.45 2.45-6.1 0-3.6-2.45-6.025Q25.3 19.7 21.7 19.7q-3.65 0-6.075 2.425Q13.2 24.55 13.2 28.15q0 3.65 2.425 6.1Q18.05 36.7 21.7 36.7Zm0-3q-2.4 0-3.95-1.575-1.55-1.575-1.55-3.975 0-2.35 1.55-3.9 1.55-1.55 3.95-1.55 2.35 0 3.925 1.55 1.575 1.55 1.575 3.9 0 2.4-1.575 3.975Q24.05 33.7 21.7 33.7Zm0-5.5Z\"/></svg>\n                </div>\n            }\n            <div className={`${this.getCssBlockName()}__toolbar`}>\n                <input ref={this.input} type=\"file\" onChange={this.onChange} disabled={!ctrl.isEditable()} style={{display: !value ? 'none' : null}}/>\n                {!!value &&\n                    <Button onClick={this.onClearClick} enabled={ctrl.isEditable()}>\n                        {this.getCtrl().getApp().getModel().getText().field.clear}\n                    </Button>\n                }\n            </div>\n        </div>;\n    }\n    componentDidMount() {\n        // console.log('RowFormFileFieldView.componentDidMount', this.props.ctrl.model.getFullName());\n        setTimeout(() => this.updateSize(), 0);\n    }\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        // console.log('RowFormFileFieldView.componentDidUpdate', this.props.ctrl.model.getFullName(), snapshot);\n        setTimeout(() => this.updateSize(), 0);\n    }\n    onImageIconClick = async e => {\n        console.log('RowFormFileFieldView.onImageIconClick');\n        this.getInput().click();\n    }\n}\nwindow.QForms.RowFormFileFieldView = RowFormFileFieldView;\n","class RowFormImageFieldView extends RowFormFieldView {\n    onImageClick = async e => {\n        const ctrl = this.props.ctrl;\n        console.log('RowFormImageFieldView.onImageClick');\n    }\n    render() {\n        const ctrl = this.props.ctrl;\n        return <div className={this.getCssClassNames()} style={this.getStyle(ctrl.getRow())}>\n            <Image src={ctrl.getValueForWidget()}\n                   onClick={this.onImageClick}\n            />\n        </div>;\n    }\n}\nwindow.QForms.RowFormImageFieldView = RowFormImageFieldView;\n","class RowFormLinkFieldView extends RowFormFieldView {\n    render() {\n        const ctrl = this.props.ctrl;\n        return (\n            <div className={this.getCssClassNames()}>\n                <a href={ctrl.getValueForWidget()} onClick={ctrl.onClick} target={'_blank'}>\n                    {ctrl.getValueForWidget()}\n                </a>\n            </div>\n        );\n    }\n}\nwindow.QForms.RowFormLinkFieldView = RowFormLinkFieldView;\n","class RowFormPasswordFieldView extends RowFormFieldView {\n    constructor(props) {\n        super(props);\n        this.state = {\n            classList: [],\n            type: 'password'\n        };\n    }\n    onCloseClick = async e => {\n        // console.log('RowFormPasswordFieldView.onCloseClick');\n        const ctrl = this.props.ctrl;\n        this.getWidget().state.value = '';\n        this.getWidget().setState({value: ''});\n        ctrl.onChange('');\n        this.getWidget().getElement().focus();\n    }\n    isCloseVisible() {\n        // console.log('RowFormPasswordFieldView.isCloseVisible', this.props.value);\n        const ctrl = this.props.ctrl;\n        if (!ctrl.isEditable()) return false;\n        if (!this.getWidget()) {\n            return this.props.value !== undefined;\n        }\n        // console.log('this.getWidget().state.value:', this.getWidget().state.value);\n        return this.getWidget().state.value !== '';\n    }\n    onFocus = async e => {\n        // console.log('RowFormPasswordFieldView.onFocus');\n        this.addCssClass('focus');\n        await this.rerender();\n    }\n    onBlur = async e => {\n        // console.log('RowFormPasswordFieldView.onBlur');\n        this.removeCssClass('focus');\n        await this.rerender();\n    }\n    onIconClick = e => {\n        this.setState(prevState => {\n            return {\n                type: prevState.type === 'password' ? 'text' : 'password'\n            };\n        });\n    }\n    render() {\n        const ctrl = this.props.ctrl;\n        return <div className={this.getCssClassNames()}>\n            <TextBox\n                classList={[`${this.getCssBlockName()}__input`]}\n                type={this.state.type}\n                value={ctrl.getValueForWidget()}\n                readOnly={!ctrl.isEditable()}\n                disabled={!ctrl.isEditable()}\n                autoFocus={ctrl.isAutoFocus()}\n                placeholder={ctrl.getPlaceholder() || null}\n                autocomplete={ctrl.getAutocomplete()}\n                onCreate={this.onWidgetCreate}\n                onChange={ctrl.onChange}\n                onFocus={this.onFocus}\n                onBlur={this.onBlur}\n            />\n            <div className={`${this.getCssBlockName()}__close ${this.isCloseVisible() ? 'visible' : ''}`}\n                 onClick={this.onCloseClick}\n            >\n                <CloseIcon/>\n            </div>\n            <div className={`${this.getCssBlockName()}__icon`} onClick={this.onIconClick}>\n                {this.state.type === 'password' ? <VisibilityIcon/> : <VisibilityOffIcon/>}\n            </div>\n        </div>;\n    }\n}\nwindow.QForms.RowFormPasswordFieldView = RowFormPasswordFieldView;\n","class RowFormPhoneFieldView extends RowFormFieldView {\n    constructor(props) {\n        super(props);\n        this.state = {\n            classList: []\n        };\n    }\n    onClear = async e => {\n        this.getCtrl().onChange('');\n        setTimeout(() => {\n            this.getWidget().getElement().focus();\n        }, 0);\n    }\n    isCloseVisible() {\n        const ctrl = this.getCtrl();\n        if (!ctrl.isEditable()) return false;\n        return ctrl.getValueForWidget() !== '';\n    }\n    onFocus = async e => {\n        this.addCssClass('focus');\n        await this.rerender();\n    }\n    onBlur = async value => {\n        // console.log('RowFormPhoneFieldView.onBlur', value);\n        this.removeCssClass('focus');\n        this.getCtrl().onBlur(value);\n    }\n    renderPhoneBox() {\n        const ctrl = this.getCtrl();\n        return <PhoneBox classList={[`${this.getCssBlockName()}__input`]}\n                         value={ctrl.getValueForWidget()}\n                         readOnly={!ctrl.isEditable()}\n                         disabled={!ctrl.isEditable()}\n                         autoFocus={ctrl.isAutoFocus()}\n                         placeholder={ctrl.getPlaceholder() || null}\n                         autocomplete={ctrl.getAutocomplete()}\n                         onCreate={this.onWidgetCreate}\n                         onChange={ctrl.onChange}\n                         onFocus={this.onFocus}\n                         onBlur={this.onBlur}\n        />;\n    }\n    renderClearButton() {\n        return <div className={`${this.getCssBlockName()}__close ${this.isCloseVisible() ? 'visible' : ''}`} onMouseDown={this.onClear}>\n            <CloseIcon/>\n        </div>;\n    }\n    renderPhoneIcon() {\n        return <div className={`${this.getCssBlockName()}__icon`} >\n            <PhoneIcon/>\n        </div>;\n    }\n    render() {\n        // console.log('RowFormPhoneFieldView.render');\n        return <div className={this.getCssClassNames()}>\n            {this.renderPhoneBox()}\n            {this.renderClearButton()}\n            {this.renderPhoneIcon()}\n        </div>;\n    }\n}\nwindow.QForms.RowFormPhoneFieldView = RowFormPhoneFieldView;\n","class RowFormRadioFieldView extends RowFormFieldView {\n    /*onChange = async widgetValue => {\n        // console.log('RowFormRadioFieldView.onChange', widgetValue);\n        this.rerender();\n        await this.getCtrl().onChange(widgetValue);\n    }*/\n    onClick = async e => {\n        console.log('RowFormRadioFieldView.onClick', e.currentTarget.dataset.value);\n        let value = JSON.parse(e.currentTarget.dataset.value);\n        if (this.getCtrl().getValue() !== value) {\n            await this.getCtrl().onChangePure(value);\n        }\n    }\n    /*render() {\n        return <div className={this.getCssClassNames()}>\n            <Radio  classList={[\n                        `${this.getCssBlockName()}__radio`,\n                        ...(!this.getCtrl().isEditable() ? ['readOnly'] : [])\n                    ]}\n                    name={this.getCtrl().getModel().getFullName()}\n                    items={this.getCtrl().getItems()}\n                    value={this.getCtrl().getValueForWidget()}\n                    readOnly={!this.getCtrl().isEditable()}\n                    onChange={this.onChange}\n            />\n        </div>;\n    }*/\n    render() {\n        // console.log('RowFormRadioFieldView.render', this.getCtrl().getItems(), this.getCtrl().getValue());\n        const value = this.getCtrl().getValue();\n        return <div className={this.getCssClassNames()}>\n            {this.getCtrl().getItems().map(item => {\n                return <input className={`${this.getCssBlockName()}__toggle ${value === item.value ? 'selected' : ''}`}\n                              type={'button'}\n                              value={item.title || item.value}\n                              disabled={!this.getCtrl().isEditable()}\n                              data-value={JSON.stringify(item.value)}\n                              onClick={this.onClick}\n                />;\n            })}\n        </div>;\n    }\n}\n","class RowFormTextAreaFieldView extends RowFormFieldView {\n    constructor(props) {\n        super(props);\n        this.state = {\n            classList: []\n        };\n    }\n    onFocus = async e => {\n        // console.log('RowFormTextAreaFieldView.onFocus');\n        this.addCssClass('focus');\n        await this.rerender();\n    }\n    onBlur = async e => {\n        // console.log('RowFormTextAreaFieldView.onBlur');\n        this.removeCssClass('focus');\n        await this.rerender();\n    }\n    render() {\n        // console.log('RowFormTextAreaFieldView.render', this.state);\n        const ctrl = this.props.ctrl;\n        return <div className={this.getCssClassNames()}>\n            <TextArea\n                classList={[`${this.getCssBlockName()}__textarea`]}\n                onCreate={this.onWidgetCreate}\n                value={ctrl.getValueForWidget()}\n                readOnly={!ctrl.isEditable()}\n                disabled={!ctrl.isEditable()}\n                onChange={ctrl.onChange}\n                placeholder={ctrl.getPlaceholder()}\n                rows={ctrl.model.getRows()}\n                cols={ctrl.model.getCols()}\n                onFocus={this.onFocus}\n                onBlur={this.onBlur}\n            />\n        </div>;\n    }\n}\nwindow.QForms.RowFormTextAreaFieldView = RowFormTextAreaFieldView;\n","class RowFormTextBoxFieldView extends RowFormFieldView {\n    constructor(props) {\n        super(props);\n        this.state = {\n            classList: []\n        };\n    }\n    onClear = async e => {\n        this.getCtrl().onChange('');\n        setTimeout(() => {\n            this.getWidget().getElement().focus();\n        }, 0);\n    }\n    isCloseVisible() {\n        // console.log('RowFormTextBoxFieldView.isCloseVisible', this.props.value);\n        const ctrl = this.getCtrl();\n        if (!ctrl.isEnabled()) return false;\n        return ctrl.getValueForWidget() !== '';\n    }\n    onFocus = async e => {\n        // console.log('RowFormTextBoxFieldView.onFocus');\n        this.addCssClass('focus');\n        await this.rerender();\n    }\n    onBlur = async e => {\n        // console.log('RowFormTextBoxFieldView.onBlur');\n        const value = e.target.value;\n        this.removeCssClass('focus');\n        this.getCtrl().onBlur(value);\n    }\n    renderTextBox() {\n        const ctrl = this.props.ctrl;\n        return <TextBox\n            classList={[`${this.getCssBlockName()}__input`]}\n            value={ctrl.getValueForWidget()}\n            readOnly={!ctrl.isEnabled()}\n            enabled={ctrl.isEnabled()}\n            autoFocus={ctrl.isAutoFocus()}\n            placeholder={ctrl.getPlaceholder() || null}\n            autocomplete={ctrl.getAutocomplete()}\n            onCreate={this.onWidgetCreate}\n            onChange={ctrl.onChange}\n            onFocus={this.onFocus}\n            onBlur={this.onBlur}\n        />;\n    }\n    renderCloseIcon() {\n        return <div className={`${this.getCssBlockName()}__close ${this.isCloseVisible() ? 'visible' : ''}`}\n             onMouseDown={this.onClear}\n        >\n            <CloseIcon/>\n        </div>;\n    }\n    render() {\n        return <div className={this.getCssClassNames()}>\n            {this.renderTextBox()}\n            {this.renderCloseIcon()}\n        </div>;\n    }\n}\nwindow.QForms.RowFormTextBoxFieldView = RowFormTextBoxFieldView;\n","class RowFormTimeFieldView extends RowFormFieldView {\n    onCloseClick = async e => {\n        console.log('RowFormTimeFieldView.onCloseClick');\n        /*const ctrl = this.props.ctrl;\n        this.getWidget().state.value = '';\n        this.getWidget().setState({value: ''});\n        ctrl.onChange(null);*/\n    }\n    isCloseVisible() {\n        // console.log('RowFormTimeFieldView.isCloseVisible', this.props.value);\n        if (this.props.readOnly) return false;\n        if (!this.getWidget()) {\n            return this.props.value !== undefined;\n        }\n        // console.log('this.getWidget().state.value:', ctrl.view.state.value);\n        return this.getWidget().state.value !== '';\n    }\n    render() {\n        const ctrl = this.props.ctrl;\n        return <div className={this.getCssClassNames()}>\n            <TimeBox\n                onCreate={this.onWidgetCreate}\n                value={ctrl.getValueForWidget()}\n                readOnly={!ctrl.isEditable()}\n                onChange={ctrl.onChange}\n                onBlur={ctrl.onBlur}\n                placeholder={ctrl.getPlaceholder()}\n            />\n            <div className={`close ${this.isCloseVisible() ? 'visible' : ''}`} onClick={this.onCloseClick}>\n                <CloseIcon/>\n            </div>\n        </div>\n    }\n}\nwindow.QForms.RowFormTimeFieldView = RowFormTimeFieldView;\n","class TableFormFieldView extends FieldView {\n    constructor(props) {\n        super(props);\n        this.span = React.createRef();\n    }\n    getSpanOffsetWidth() {\n        // console.log('TableFormFieldView.getSpanOffsetWidth', this.span.current);\n        if (!this.span.current) return 0;\n        return this.span.current.offsetWidth;\n    }\n}\nwindow.QForms.TableFormFieldView = TableFormFieldView;\n","class TableFormCheckBoxFieldView extends TableFormFieldView {\n    render() {\n        const row = this.props.row;\n        const ctrl = this.props.ctrl;\n        return (\n            <div className={this.getCssClassNames()} style={this.getStyle(row)}>\n                <CheckBox\n                    ref={this.span}\n                    checked={ctrl.getValueForWidget(row)}\n                    readOnly={true}\n                    disabled={true}\n                />\n            </div>\n        );\n    }\n}\nwindow.QForms.TableFormCheckBoxFieldView = TableFormCheckBoxFieldView;\n","class TableFormComboBoxFieldView extends TableFormFieldView {\n    render() {\n        const row = this.props.row;\n        const ctrl = this.props.ctrl;\n        return (\n            <div className={`${this.getCssClassNames()} ellipsis`} style={this.getStyle(row)}>\n                <span ref={this.span}>{ctrl.getValueForWidget(row)}</span>\n            </div>\n        );\n    }\n}\nwindow.QForms.TableFormComboBoxFieldView = TableFormComboBoxFieldView;\n","class TableFormDateFieldView extends TableFormFieldView {\n    render() {\n        const row = this.props.row;\n        const ctrl = this.props.ctrl;\n        return (\n            <div className={`${this.getCssClassNames()} ellipsis`} style={this.getStyle(row)}>\n                <span ref={this.span}>{ctrl.getValueForWidget(row)}</span>\n            </div>\n        );\n    }\n}\nwindow.QForms.TableFormDateFieldView = TableFormDateFieldView;\n","class TableFormDateTimeFieldView extends TableFormFieldView {\n    render() {\n        const row = this.props.row;\n        const ctrl = this.props.ctrl;\n        return (\n            <div className={`${this.getCssClassNames()} ellipsis`} style={this.getStyle(row)}>\n                <span ref={this.span}>{ctrl.getValueForWidget(row)}</span>\n            </div>\n        );\n    }\n}\nwindow.QForms.TableFormDateTimeFieldView = TableFormDateTimeFieldView;\n","class TableFormLinkFieldView extends TableFormFieldView {\n    render() {\n        const row = this.props.row;\n        const ctrl = this.props.ctrl;\n        return (\n            <div className={`${this.getCssClassNames()} ellipsis`} style={this.getStyle(row)}>\n                <a href=\"#\" onClick={ctrl.onClick}>{ctrl.getValueForWidget(row)}</a>\n            </div>\n        );\n    }\n}\nwindow.QForms.TableFormLinkFieldView = TableFormLinkFieldView;\n","class TableFormPhoneFieldView extends TableFormFieldView {\n    render() {\n        const row = this.props.row;\n        return <div className={`${this.getCssClassNames()} ellipsis`} style={this.getStyle(row)}>\n            <span ref={this.span}>{PhoneBox.formatPhoneNumber(this.getCtrl().getValueForWidget(row))}</span>\n        </div>;\n    }\n}\n","class TableFormTextAreaFieldView extends TableFormFieldView {\n    render() {\n        const row = this.props.row;\n        const ctrl = this.props.ctrl;\n        return <div className={`${this.getCssClassNames()} ellipsis`} style={this.getStyle(row)}>\n            <span ref={this.span}>{ctrl.getValueForWidget(row)}</span>\n        </div>;\n    }\n}\nwindow.QForms.TableFormTextAreaFieldView = TableFormTextAreaFieldView;\n","class TableFormTextBoxFieldView extends TableFormFieldView {\n    render() {\n        const row = this.props.row;\n        const ctrl = this.props.ctrl;\n        return <div className={`${this.getCssClassNames()} ellipsis`} style={this.getStyle(row)}>\n            <span ref={this.span}>{ctrl.getValueForWidget(row)}</span>\n        </div>;\n    }\n}\nwindow.QForms.TableFormTextBoxFieldView = TableFormTextBoxFieldView;\n","class TableFormTimeFieldView extends TableFormFieldView {\n    render() {\n        const row = this.props.row;\n        const ctrl = this.props.ctrl;\n        return <div className={`${this.getCssClassNames()} ellipsis`} style={this.getStyle(row)}>\n            <span ref={this.span}>{ctrl.getValueForWidget(row)}</span>\n        </div>;\n    }\n}\nwindow.QForms.TableFormTimeFieldView = TableFormTimeFieldView;\n","class FormView extends ModelView {\n    constructor(props) {\n        super(props);\n        this.checkParent();\n    }\n    onActionsClick = async li => {\n        // console.log('FormView.onActionsClick:', li);\n        const ctrl = this.props.ctrl;\n        const name = li.dataset.action;\n        try {\n            const result = await ctrl.onActionClick(name, ctrl.getActiveRow(true));\n            if (!result) {\n                throw new Error(`no handler for action '${name}'`);\n            }\n        } catch (err) {\n            console.error(err);\n            await this.getCtrl().getApp().alert({message: err.message});\n        }\n    }\n    shouldComponentUpdate(nextProps, nextState) {\n        console.log('FormView.shouldComponentUpdate', this.getCtrl().getModel().getFullName(), nextProps.updated - this.props.updated);\n        if (nextProps.updated - this.props.updated) return true;\n        return false;\n    }\n}\nwindow.QForms.FormView = FormView;\n","class RowFormView extends FormView {\n    renderToolbar() {\n        // console.log('RowFormView.renderToolbar');\n        const ctrl = this.props.ctrl;\n        const text = ctrl.getModel().getApp().getText();\n        return (\n            <div className={`${this.getCssBlockName()}__toolbar flex grid-gap-5`}>\n                {ctrl.model.hasDefaultSqlDataSource() &&\n                    <Button\n                        key=\"edit\"\n                        classList={['toolbar-button']}\n                        onClick={ctrl.onEditClick}\n                        visible={ctrl.getMode() === 'view'}\n                    >\n                        {/*<EditIcon/>*/}\n                        <div>{text.form.edit}</div>\n                    </Button>\n                }\n                {ctrl.model.hasDefaultSqlDataSource() &&\n                    <Button\n                        key=\"save\"\n                        classList={['toolbar-button']}\n                        enabled={(ctrl.state.changed || ctrl.state.hasNew) && ctrl.state.valid}\n                        onClick={ctrl.onSaveClick}\n                        visible={ctrl.getMode() === 'edit'}\n                    >\n                        {/*<SaveIcon/>*/}\n                        <div>{text.form.save}</div>\n                    </Button>\n                }\n                {ctrl.model.hasDefaultSqlDataSource() && ctrl.model.getKey() &&\n                    <Button\n                        key=\"cancel\"\n                        classList={['toolbar-button']}\n                        visible={ctrl.getMode() === 'edit' && !ctrl.state.changed && ctrl.state.valid}\n                        onClick={ctrl.onCancelClick}\n                    >\n                        {/*<CancelIcon/>*/}\n                        <div>{text.form.cancel}</div>\n                    </Button>\n                }\n                {ctrl.model.hasDefaultSqlDataSource() && ctrl.model.getKey() &&\n                    <Button\n                        key=\"discard\"\n                        classList={['toolbar-button']}\n                        enabled={ctrl.state.changed || !ctrl.isValid()}\n                        onClick={ctrl.onDiscardClick}\n                        visible={ctrl.getMode() === 'edit' && (ctrl.state.changed || !ctrl.state.valid)}\n                    >\n                        {/*<CloseIcon2/>*/}\n                        <div>{text.form.discard}</div>\n                    </Button>\n                }\n                {ctrl.model.hasDefaultSqlDataSource() && ctrl.getModel().getAttr('refreshButton') === 'true' &&\n                    <Button\n                        key=\"refresh\"\n                        classList={['toolbar-button']}\n                        enabled={!ctrl.state.changed && !ctrl.state.hasNew}\n                        onClick={ctrl.onRefreshClick}\n                        visible={ctrl.getMode() === 'view'}\n                    >\n                        {/*<RefreshIcon/>*/}\n                        <div>{text.form.refresh}</div>\n                    </Button>\n                }\n                {this.isActionsVisible() && ctrl.model.hasActions() &&\n                    <DropdownButton\n                        classList={['toolbar-dropdown-button']}\n                        actions={this.getActionsForDropdownButton()}\n                        onClick={this.onActionsClick}\n                        enabled={this.isActionsEnabled()}\n                    >\n                        <MoreVertIcon/>\n                    </DropdownButton>\n                }\n            </div>\n        );\n    }\n    isActionsEnabled() {\n        // return this.getCtrl().state.mode === 'view';\n        return true;\n    }\n    isActionsVisible() {\n        if (this.getCtrl().getModel().hasDefaultSqlDataSource()) {\n            return !!this.getCtrl().getModel().getKey();\n        }\n        return true;\n    }\n    renderLabel(fieldCtrl) {\n        const model = fieldCtrl.getModel();\n        const name = model.getName();\n        return <div key={`label.${name}`} className={`${this.getCssBlockName()}__label`}>\n            {model.getCaption()}:\n            {model.isNotNull() && <span style={{color: 'red'}}>*</span>}\n        </div>;\n    }\n    renderField(fieldCtrl) {\n        // console.log('RowFormView.renderField', fieldCtrl.model.getClassName());\n        const name = fieldCtrl.getModel().getName();\n        return <div key={`field.${name}`} className={`${this.getCssBlockName()}__field`}>\n            {this.renderFieldView(fieldCtrl)}\n        </div>;\n    }\n    renderFieldView(fieldCtrl) {\n        return RowFormView.renderFieldView(fieldCtrl);\n    }\n    static renderFieldView(fieldCtrl) {\n        /*return React.createElement(fieldCtrl.getViewClass(), {\n            onCreate: fieldCtrl.onViewCreate,\n            ctrl: fieldCtrl,\n        });*/\n        return fieldCtrl.renderView();\n    }\n    renderError(fieldCtrl) {\n        // console.log('RowFormView.renderError:', fieldCtrl.state);\n        const name = fieldCtrl.getModel().getName();\n        return <div key={`tooltip.${name}`} className={`${this.getCssBlockName()}__error`}>\n            <Tooltip position=\"left\" type=\"alert\" hidden={fieldCtrl.getErrorMessage() === null} tip={fieldCtrl.getErrorMessage()}/>\n        </div>;\n    }\n    renderGroup(fieldCtrl) {\n        return [\n            this.renderLabel(fieldCtrl),\n            this.renderField(fieldCtrl),\n            this.renderError(fieldCtrl)\n        ];\n        /*return <div key={fieldCtrl.getModel().getName()} className={`${this.getCssClassNames()}__group`}>\n            {this.renderLabel(fieldCtrl)}\n            {this.renderField(fieldCtrl)}\n            {this.renderError(fieldCtrl)}\n        </div>;*/\n    }\n    renderGroups() {\n        // console.log('RowFormView.renderGroups');\n        const ctrl = this.getCtrl();\n        return <div className={`${this.getCssBlockName()}__groups`}>\n            {Object.keys(ctrl.fields).filter(name => ctrl.getField(name).isVisible()).map(name => {\n                return this.renderGroup(ctrl.getField(name));\n            })}\n        </div>;\n    }\n    render() {\n        console.log('RowFormView.render', this.getCtrl().getModel().getFullName());\n        return <div className={`${this.getCssClassNames()} flex-column grid-gap-5`} style={this.getStyle()}>\n            {(this.getCtrl().getModel().hasDefaultSqlDataSource() || this.getCtrl().getModel().hasActions()) && this.renderToolbar()}\n            {this.renderGroups()}\n        </div>;\n    }\n    /*renderActionIcon() {\n        return <CancelIcon/>;\n    }*/\n}\n\nwindow.QForms.RowFormView = RowFormView;\n","class TableFormView extends FormView {\n    renderToolbar() {\n        const ctrl = this.props.ctrl;\n        const model = ctrl.model;\n        const dataSource = model.getDefaultDataSource();\n        return (\n            <div className={`${this.getCssBlockName()}__toolbar flex grid-gap-5`}>\n                {model.data.newRowMode !== 'disabled' &&\n                    <Button\n                        key=\"new\"\n                        classList={['toolbar-button', 'default']}\n                        onClick={ctrl.onNewClick}\n                        enabled={!ctrl.parent.model.hasNew()}\n                    >\n                        {/*<AddIcon/>*/}\n                        <div>{model.getApp().getText().form.new}</div>\n                    </Button>\n                }\n                {model.data.refreshButton === 'true' && dataSource.constructor.name === 'SqlDataSource' &&\n                <Button\n                    key=\"refresh\"\n                    classList={['toolbar-button']}\n                    onClick={ctrl.onRefreshClick}\n                    enabled={!ctrl.parent.model.hasNew()}\n                >\n                    {/*<RefreshIcon/>*/}\n                    <div>{model.getApp().getText().form.refresh}</div>\n                </Button>\n                }\n                {model.data.deleteRowMode !== 'disabled' &&\n                    <Button\n                        key=\"delete\"\n                        classList={['toolbar-button']}\n                        onClick={ctrl.onDeleteClick}\n                        enabled={ctrl.isRowSelected()}\n                    >\n                        {/*<DeleteIcon/>*/}\n                        <div>{model.getApp().getText().form.delete}</div>\n                    </Button>\n                }\n                {ctrl.model.hasActions() &&\n                    <DropdownButton\n                        classList={['toolbar-dropdown-button']}\n                        actions={this.getActionsForDropdownButton()}\n                        onClick={this.onActionsClick}\n                    >\n                        <MoreVertIcon/>\n                    </DropdownButton>\n                }\n            </div>\n        );\n    }\n    renderPaging() {\n        const ctrl = this.props.ctrl;\n        const model = this.props.ctrl.model;\n        const dataSource = model.getDefaultDataSource();\n        const text = model.getApp().getText();\n        return (\n            <div className=\"paging\">\n                <div className=\"paging__countBlock\">\n                    <span className=\"count\">{dataSource.getRowsLength()} {dataSource.getLimit() && `of ${dataSource.getCount()}`}</span>\n                </div>\n                {dataSource.getLimit() &&\n                    <div className=\"paging__gotoBlock\">\n                        <Button enabled={ctrl.canPrev()} onClick={ctrl.onPreviousClick}>\n                            <LeftIcon size={18}/>\n                        </Button>\n                        <ComboBox\n                            value={ctrl.model.getDefaultDataSource().getFrame().toString()}\n                            onChange={ctrl.onFrameChanged}\n                            items={new Array(dataSource.getFramesCount()).fill().map((val, i) =>\n                            ({value: (i+1).toString(), title: (i+1).toString()})\n                        )}/>\n                        <Button enabled={ctrl.canNext()} onClick={ctrl.onNextClick}>\n                            <RightIcon size={18}/>\n                        </Button>\n                    </div>\n                }\n            </div>\n        );\n    }\n    renderGridCellView = (row, column, onCreate, onUnmount) => {\n        // console.log('TableFormView.renderGridCellView');\n        const ctrl = this.props.ctrl.getField(column.name);\n        if (!ctrl) throw new Error(`no field: ${column.name}`);\n        // console.log(column.name, ctrl.constructor.name);\n        return React.createElement(ctrl.getViewClass(), {row, column, onCreate, onUnmount, ctrl});\n    }\n    getGridColumns() {\n        const ctrl = this.props.ctrl;\n        return Object.keys(ctrl.fields).filter(name => ctrl.getField(name).isVisible()).map(name => {\n            const field = ctrl.getField(name);\n            return {\n                name : field.getModel().getName(),\n                title: field.getModel().getCaption(),\n                width: field.getModel().getWidth()\n            };\n        });\n    }\n    getRows() {\n        const ctrl = this.props.ctrl;\n        return ctrl.model.getDefaultDataSource().getRows();\n    }\n    getGridExtraColumn() {\n        return true;\n    }\n    getGridClass() {\n        return Grid;\n    }\n    renderGrid() {\n        const ctrl = this.props.ctrl;\n        return React.createElement(this.getGridClass(), {\n            classList         : ['flex-max'],\n            onCreate          : ctrl.onGridCreate,\n            name              : ctrl.model.getFullName(),\n            columns           : this.getGridColumns(),\n            rows              : this.getRows(),\n            getRowKey         : row => ctrl.model.getDefaultDataSource().getRowKey(row),\n            onDoubleClick     : ctrl.onGridCellDblClick,\n            onDeleteKeyDown   : ctrl.onGridDeleteKeyDown,\n            onSelectionChange : ctrl.onGridSelectionChange,\n            onLinkClick       : ctrl.onGridLinkClick,\n            renderGridCellView: this.renderGridCellView,\n            updated           : ctrl.getUpdated(),\n            extraColumn       : this.getGridExtraColumn(),\n            selectedKey       : ctrl.getPage().getModel().getOptions().selectedKey,\n            createLinkCallback: this.createLinkCallback,\n        });\n    }\n    render() {\n        console.log('TableFormView.render', this.props.ctrl.model.getFullName());\n        const ctrl = this.props.ctrl;\n        return <div className={`${this.getCssClassNames()} full flex-column grid-gap-5`} style={this.getStyle()}>\n            {this.renderToolbar()}\n            {this.renderGrid()}\n            {ctrl.getModel().hasDefaultSqlDataSource() && this.renderPaging()}\n        </div>;\n    }\n    createLinkCallback = key => {\n        return PageController.createLink({\n            page: this.getCtrl().getModel().getAttr('itemEditPage'),\n            ...DataSource.keyToParams(key)\n        });\n    }\n}\nwindow.QForms.TableFormView = TableFormView;\n","class PageView extends ModelView {\n    constructor(props) {\n        super(props);\n        this.checkParent();\n        this.el = React.createRef();\n    }\n    onActionsClick = async li => {\n        // console.log('PageView.onActionsClick:', li);\n        const ctrl = this.getCtrl();\n        const name = li.dataset.action;\n        try {\n            const result = await ctrl.onActionClick(name);\n            if (!result) {\n                throw new Error(`no handler for action '${name}'`);\n            }\n        } catch (err) {\n            console.error(err);\n            await this.getCtrl().getApp().alert({message: err.message});\n        }\n    }\n    isToolbar() {\n        const model = this.getCtrl().getModel();\n        return model.isSelectMode()\n            //|| (model.isModal() && model.hasRowFormWithDefaultSqlDataSource())\n            || model.hasActions();\n    }\n    getFormTabs(forms) {\n        return forms.map(form => {\n            return {\n                name   : form.getModel().getName(),\n                title  : form.getTitle(),\n                content: this.renderForm(form)\n            };\n        });\n    }\n    getRowForms() {\n        return this.getCtrl().forms\n            .filter(form => form.getModel().getClassName() === 'RowForm')\n            .filter(form => form.isVisible())\n            ;\n    }\n    getTableForms() {\n        return this.getCtrl().forms\n            .filter(form => form.getModel().getClassName() === 'TableForm')\n            .filter(form => form.isVisible())\n            ;\n    }\n    renderForm(formCtrl, props = {}) {\n        return React.createElement(formCtrl.getViewClass(), {\n            parent  : this,\n            key     : formCtrl.getModel().getName(),\n            ctrl    : formCtrl,\n            onCreate: formCtrl.onViewCreate,\n            updated : formCtrl.getUpdated(),\n            ...props\n        });\n    }\n    renderRowForms() {\n        return this.getRowForms().map(form => this.renderForm(form));\n    }\n    renderTitle() {\n        const ctrl = this.getCtrl();\n        const model = ctrl.getModel();\n        return <h1 className={`${this.getCssBlockName()}__title`}>\n            {ctrl.getTitle()}\n            {model.hasRowFormWithDefaultSqlDataSource() && (ctrl.isChanged() || model.hasNew()) &&\n                [' ', <span key={'star'} className={`${this.getCssBlockName()}__star`}>*</span>]\n            }\n        </h1>;\n    }\n    renderSelectButton() {\n        const ctrl = this.getCtrl();\n        const model = ctrl.getModel();\n        return <Button\n            classList={['toolbar-button', 'default']}\n            onClick={ctrl.onSelectClick}\n            enabled={!!ctrl.getSelectedRowKey()}\n        >\n            <DoneIcon/>\n            <div>{model.getApp().getText().page.select}</div>\n        </Button>;\n    }\n    renderSaveAndCloseButton() {\n        const ctrl = this.getCtrl();\n        const model = ctrl.getModel();\n        return <Button\n            classList={['toolbar-button', 'default']}\n            onClick={ctrl.onSaveAndCloseClick}\n            enabled={ctrl.isValid() && (model.hasNew() || (ctrl.isChanged()))}\n        >\n            {/*<DoneIcon/>*/}\n            <div>{model.getApp().getText().page.saveAndClose}</div>\n        </Button>;\n    }\n    renderCloseButton() {\n        const ctrl = this.getCtrl();\n        const model = ctrl.getModel();\n        return <Button\n            classList={['toolbar-button']}\n            onClick={ctrl.onClosePageClick}\n        >\n            <div>{model.getApp().getText().page.close}</div>\n        </Button>\n    }\n    renderActionsDropdownButton() {\n        return <DropdownButton\n            classList={['toolbar-dropdown-button']}\n            actions={this.getActionsForDropdownButton()}\n            onClick={this.onActionsClick}\n        >\n            <MoreVertIcon/>\n        </DropdownButton>;\n    }\n    renderToolbar() {\n        const ctrl = this.getCtrl();\n        const model = ctrl.getModel();\n        return <div className={`${this.getCssBlockName()}__toolbar`}>\n            {model.isSelectMode() && this.renderSelectButton()}\n            {/*{model.isSelectMode() &&\n                    <Button classList={['toolbar-button']}\n                        title={model.getApp().getText().page.reset}\n                            onClick={ctrl.onResetClick}\n                    />\n                }*/}\n            {model.hasActions() && this.renderActionsDropdownButton()}\n        </div>;\n    }\n    /*shouldComponentUpdate(nextProps, nextState) {\n        return false;\n    }*/\n    renderTableForms() {\n        const tableForms = this.getTableForms();\n        if (tableForms.length === 1) {\n            return this.renderForm(tableForms[0]);\n        } else {\n            return <div className={`${this.getCssBlockName()}__table-forms flex-max frame`}>\n                <div className=\"frame__container\">\n                    <Tab2 tabs={this.getFormTabs(tableForms)} classList={['Tab-blue', 'full']}/>\n                </div>\n            </div>;\n        }\n    }\n    renderOpenPageHeaderButton() {\n        const ctrl = this.getCtrl();\n        return <div key={'open'} className={`${this.getCssBlockName()}__open`} onClick={ctrl.onOpenPageClick}>\n            <OpenInNewIcon/>\n        </div>;\n    }\n    renderClosePageHeaderButton() {\n        const ctrl = this.getCtrl();\n        return <div key={'close'} className={`${this.getCssBlockName()}__close`} onClick={ctrl.onClosePageClick}>\n            <CloseIcon2/>\n        </div>;\n    }\n    renderHeader() {\n        const model = this.getCtrl().getModel();\n        return <div className={`${this.getCssBlockName()}__header`}>\n            {this.renderTitle()}\n            {model.isModal() &&\n                [\n                    ...(model.getKey() ? [this.renderOpenPageHeaderButton()] : []),\n                    this.renderClosePageHeaderButton()\n                ]\n            }\n        </div>;\n    }\n    renderMain() {\n        return <div className={`${this.getCssBlockName()}__main flex-max frame`}>\n            <div className={'frame__container flex-column grid-gap-10'}>\n                {this.isToolbar() && this.renderToolbar()}\n                {this.renderForms()}\n            </div>\n        </div>;\n    }\n    renderForms() {\n        const model = this.getCtrl().getModel();\n        return [\n            ...(model.hasRowForm() ? [this.renderRowForms()] : []),\n            ...(model.hasTableForm() ? [this.renderTableForms()] : [])\n        ];\n    }\n    renderForms2() {\n        return <Tab2 tabs={this.getFormTabs(this.getCtrl().forms.filter(form => form.isVisible()))} classList={['Tab-blue', 'full']}/>;\n    }\n    renderFooter() {\n        const model = this.getCtrl().getModel();\n        return <div className={`${this.getCssBlockName()}__footer`}>\n            {this.renderCloseButton()}\n            {model.isModal() && model.hasRowFormWithDefaultSqlDataSource() && this.renderSaveAndCloseButton()}\n        </div>;\n    }\n    render() {\n        console.log('PageView.render', this.getCtrl().getModel().getFullName());\n        return <div className={`${this.getCssClassNames()} ${this.getCtrl().isModal() ? '' : 'full'} flex-column`}\n                    style={this.getStyle()}\n                    ref={this.el}\n                    tabIndex={0}\n                    onKeyDown={this.getCtrl().onKeyDown}\n        >\n            {this.renderHeader()}\n            {this.renderMain()}\n            {this.getCtrl().isModal() && this.renderFooter()}\n        </div>;\n    }\n    getStyle() {\n        if (this.getCtrl().isModal()) {\n            return {\n                width: 1000,\n                height: 750\n            };\n        }\n    }\n    componentDidMount() {\n        // console.log('PageView.componentDidMount', this.getCtrl().getModel().getFullName());\n        if (this.getCtrl().isAutoFocus() && !this.getCtrl().getModel().getKey()) {\n\n        } else {\n            this.focus();\n        }\n    }\n    focus() {\n        // console.log('PageView.focus', this.getCtrl().getModel().getFullName());\n        if (this.getElement()) {\n            // console.log('focus', this.getElement());\n            this.getElement().focus();\n        } else {\n            console.error(`${this.getCtrl().getModel().getFullName()}: el is null (ref={this.el})`);\n        }\n    }\n}\nwindow.QForms.PageView = PageView;\n"]}